(self.webpackChunkfire_demo=self.webpackChunkfire_demo||[]).push([[179],{255:$s=>{function fr(qn){return Promise.resolve().then(()=>{var dn=new Error("Cannot find module '"+qn+"'");throw dn.code="MODULE_NOT_FOUND",dn})}fr.keys=()=>[],fr.resolve=fr,fr.id=255,$s.exports=fr},676:function($s,fr){!function(qn){"use strict";function dn(O){return Array.prototype.slice.call(O)}function Hs(O){return new Promise(function(J,ue){O.onsuccess=function(){J(O.result)},O.onerror=function(){ue(O.error)}})}function St(O,J,ue){var ve,re=new Promise(function(ie,di){Hs(ve=O[J].apply(O,ue)).then(ie,di)});return re.request=ve,re}function li(O,J,ue){var ve=St(O,J,ue);return ve.then(function(re){if(re)return new ye(re,ve.request)})}function Wn(O,J,ue){ue.forEach(function(ve){Object.defineProperty(O.prototype,ve,{get:function(){return this[J][ve]},set:function(re){this[J][ve]=re}})})}function Gs(O,J,ue,ve){ve.forEach(function(re){re in ue.prototype&&(O.prototype[re]=function(){return St(this[J],re,arguments)})})}function $i(O,J,ue,ve){ve.forEach(function(re){re in ue.prototype&&(O.prototype[re]=function(){return this[J][re].apply(this[J],arguments)})})}function Rf(O,J,ue,ve){ve.forEach(function(re){re in ue.prototype&&(O.prototype[re]=function(){return li(this[J],re,arguments)})})}function An(O){this._index=O}function ye(O,J){this._cursor=O,this._request=J}function hn(O){this._store=O}function pr(O){this._tx=O,this.complete=new Promise(function(J,ue){O.oncomplete=function(){J()},O.onerror=function(){ue(O.error)},O.onabort=function(){ue(O.error)}})}function ja(O,J,ue){this._db=O,this.oldVersion=J,this.transaction=new pr(ue)}function $e(O){this._db=O}Wn(An,"_index",["name","keyPath","multiEntry","unique"]),Gs(An,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Rf(An,"_index",IDBIndex,["openCursor","openKeyCursor"]),Wn(ye,"_cursor",["direction","key","primaryKey","value"]),Gs(ye,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(O){O in IDBCursor.prototype&&(ye.prototype[O]=function(){var J=this,ue=arguments;return Promise.resolve().then(function(){return J._cursor[O].apply(J._cursor,ue),Hs(J._request).then(function(ve){if(ve)return new ye(ve,J._request)})})})}),hn.prototype.createIndex=function(){return new An(this._store.createIndex.apply(this._store,arguments))},hn.prototype.index=function(){return new An(this._store.index.apply(this._store,arguments))},Wn(hn,"_store",["name","keyPath","indexNames","autoIncrement"]),Gs(hn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Rf(hn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),$i(hn,"_store",IDBObjectStore,["deleteIndex"]),pr.prototype.objectStore=function(){return new hn(this._tx.objectStore.apply(this._tx,arguments))},Wn(pr,"_tx",["objectStoreNames","mode"]),$i(pr,"_tx",IDBTransaction,["abort"]),ja.prototype.createObjectStore=function(){return new hn(this._db.createObjectStore.apply(this._db,arguments))},Wn(ja,"_db",["name","version","objectStoreNames"]),$i(ja,"_db",IDBDatabase,["deleteObjectStore","close"]),$e.prototype.transaction=function(){return new pr(this._db.transaction.apply(this._db,arguments))},Wn($e,"_db",["name","version","objectStoreNames"]),$i($e,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(O){[hn,An].forEach(function(J){O in J.prototype&&(J.prototype[O.replace("open","iterate")]=function(){var ue=dn(arguments),ve=ue[ue.length-1],re=this._store||this._index,ie=re[O].apply(re,ue.slice(0,-1));ie.onsuccess=function(){ve(ie.result)}})})}),[An,hn].forEach(function(O){O.prototype.getAll||(O.prototype.getAll=function(J,ue){var ve=this,re=[];return new Promise(function(ie){ve.iterateCursor(J,function(di){di?(re.push(di.value),void 0===ue||re.length!=ue?di.continue():ie(re)):ie(re)})})})}),qn.openDb=function(O,J,ue){var ve=St(indexedDB,"open",[O,J]),re=ve.request;return re&&(re.onupgradeneeded=function(ie){ue&&ue(new ja(re.result,ie.oldVersion,re.transaction))}),ve.then(function(ie){return new $e(ie)})},qn.deleteDb=function(O){return St(indexedDB,"deleteDatabase",[O])},Object.defineProperty(qn,"__esModule",{value:!0})}(fr)},815:($s,fr,qn)=>{"use strict";function dn(t){return"function"==typeof t}let Hs=!1;const St={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Hs&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Hs=t},get useDeprecatedSynchronousErrorHandling(){return Hs}};function li(t){setTimeout(()=>{throw t},0)}const Wn={closed:!0,next(t){},error(t){if(St.useDeprecatedSynchronousErrorHandling)throw t;li(t)},complete(){}},Gs=Array.isArray||(t=>t&&"number"==typeof t.length);function $i(t){return null!==t&&"object"==typeof t}const An=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class ye{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof ye)n.remove(this);else if(null!==n)for(let o=0;o<n.length;++o)n[o].remove(this);if(dn(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof An?hn(o.errors):[o]}}if(Gs(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if($i(u))try{u.unsubscribe()}catch(c){e=e||[],c instanceof An?e=e.concat(hn(c.errors)):e.push(c)}}}if(e)throw new An(e)}add(e){let n=e;if(!e)return ye.EMPTY;switch(typeof e){case"function":n=new ye(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof ye)){const s=n;n=new ye,n._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof ye){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function hn(t){return t.reduce((e,n)=>e.concat(n instanceof An?n.errors:n),[])}ye.EMPTY=((t=new ye).closed=!0,t);const pr="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class $e extends ye{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Wn;break;case 1:if(!e){this.destination=Wn;break}if("object"==typeof e){e instanceof $e?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Zc(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Zc(this,e,n,r)}}[pr](){return this}static create(e,n,r){const i=new $e(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Zc extends $e{constructor(e,n,r,i){super(),this._parentSubscriber=e;let s,o=this;dn(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==Wn&&(o=Object.create(n),dn(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;St.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=St;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):li(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;li(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);St.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),St.useDeprecatedSynchronousErrorHandling)throw r;li(r)}}__tryOrSetError(e,n,r){if(!St.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return St.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(li(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const J="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(t){return t}let ie=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:s}=this,o=function(t,e,n){if(t){if(t instanceof $e)return t;if(t[pr])return t[pr]()}return t||e||n?new $e(t,e,n):new $e(Wn)}(n,r,i);if(o.add(s?s.call(o,this.source):this.source||St.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),St.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){St.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof $e?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=di(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[J](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?ue:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=di(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function di(t){if(t||(t=St.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Ua=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class xF extends ye{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class fT extends $e{constructor(e){super(e),this.destination=e}}let Pf=(()=>{class t extends ie{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[pr](){return new fT(this)}lift(n){const r=new pT(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Ua;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(n)}}error(n){if(this.closed)throw new Ua;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(n);this.observers.length=0}complete(){if(this.closed)throw new Ua;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Ua;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Ua;return this.hasError?(n.error(this.thrownError),ye.EMPTY):this.isStopped?(n.complete(),ye.EMPTY):(this.observers.push(n),new xF(this,n))}asObservable(){const n=new ie;return n.source=this,n}}return t.create=(e,n)=>new pT(e,n),t})();class pT extends Pf{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):ye.EMPTY}}function gT(t){return t&&"function"==typeof t.schedule}function Of(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new kF(t,e))}}class kF{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new NF(e,this.project,this.thisArg))}}class NF extends $e{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const mT=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},el="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",yT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _T(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const vT=t=>{if(t&&"function"==typeof t[J])return(t=>e=>{const n=t[J]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(yT(t))return mT(t);if(_T(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,li),e))(t);if(t&&"function"==typeof t[el])return(t=>e=>{const n=t[el]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${$i(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Ff(t,e){return new ie(n=>{const r=new ye;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}class HF extends $e{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class GF extends $e{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function ET(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(ET((i,s)=>function(t,e){return t instanceof ie?t:new ie(vT(t))}(t(i,s)).pipe(Of((o,a)=>e(i,o,s,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new WF(t,n)))}class WF{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new zF(e,this.project,this.concurrent))}}class zF extends GF{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new HF(this),r=this.destination;r.add(n);const i=function(t,e){if(e.closed)return;if(t instanceof ie)return t.subscribe(e);let n;try{n=vT(t)(e)}catch(r){e.error(r)}return n}(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function IT(t,e){return e?Ff(t,e):new ie(mT(t))}function wT(){return function(e){return e.lift(new YF(e))}}class YF{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new JF(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class JF extends $e{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class XF extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ye,e.add(this.source.subscribe(new eL(this.getSubject(),this))),e.closed&&(this._connection=null,e=ye.EMPTY)),e}refCount(){return wT()(this)}}const ZF=(()=>{const t=XF.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class eL extends fT{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function iL(){return new Pf}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function Y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Vf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const oL=de({__forward_ref__:de});function Bf(t){return t.__forward_ref__=Bf,t.toString=function(){return Y(this())},t}function P(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(oL)&&t.__forward_ref__===Bf}(t)?t():t}class Hi extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function Bt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}function tl(t,e){const n=e?` in ${e}`:"";throw new Hi("201",`No provider for ${Bt(t)} found${n}`)}function pn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vr(t){return TT(t,nl)||TT(t,CT)}function TT(t,e){return t.hasOwnProperty(e)?t[e]:null}function DT(t){return t&&(t.hasOwnProperty(Uf)||t.hasOwnProperty(fL))?t[Uf]:null}const nl=de({\u0275prov:de}),Uf=de({\u0275inj:de}),CT=de({ngInjectableDef:de}),fL=de({ngInjectorDef:de});var L=(()=>((L=L||{})[L.Default=0]="Default",L[L.Host=1]="Host",L[L.Self=2]="Self",L[L.SkipSelf=4]="SkipSelf",L[L.Optional=8]="Optional",L))();let $f;function hi(t){const e=$f;return $f=t,e}function AT(t,e,n){const r=Vr(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&L.Optional?null:void 0!==e?e:void tl(Y(t),"Injector")}function fi(t){return{toString:t}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),Ze=(()=>((Ze=Ze||{})[Ze.Emulated=0]="Emulated",Ze[Ze.None=2]="None",Ze[Ze.ShadowDom=3]="ShadowDom",Ze))();const gL="undefined"!=typeof globalThis&&globalThis,mL="undefined"!=typeof window&&window,yL="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fe=gL||"undefined"!=typeof global&&global||mL||yL,qs={},_e=[],rl=de({\u0275cmp:de}),Hf=de({\u0275dir:de}),Gf=de({\u0275pipe:de}),ST=de({\u0275mod:de}),_L=de({\u0275loc:de}),Br=de({\u0275fac:de}),$a=de({__NG_ELEMENT_ID__:de});let vL=0;function qf(t){return fi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ze.Emulated,id:"c",styles:t.styles||_e,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=vL++,r.inputs=RT(t.inputs,n),r.outputs=RT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(xT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(kT):null,r})}function xT(t){return jt(t)||function(t){return t[Hf]||null}(t)}function kT(t){return function(t){return t[Gf]||null}(t)}const NT={};function Gi(t){return fi(()=>{const e={type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(NT[t.id]=t.type),e})}function RT(t,e){if(null==t)return qs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const xn=qf;function en(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function jt(t){return t[rl]||null}function kn(t,e){const n=t[ST]||null;if(!n&&!0===e)throw new Error(`Type ${Y(t)} does not have '\u0275mod' property.`);return n}const K=11;function gr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Kn(t){return Array.isArray(t)&&!0===t[1]}function Kf(t){return 0!=(8&t.flags)}function al(t){return 2==(2&t.flags)}function ul(t){return 1==(1&t.flags)}function Qn(t){return null!==t.template}function CL(t){return 0!=(512&t[2])}function Qi(t,e){return t.hasOwnProperty(Br)?t[Br]:null}class PT{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function OT(t){return t.type.prototype.ngOnChanges&&(t.setInput=kL),xL}function xL(){const t=LT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===qs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kL(t,e,n,r){const i=LT(t)||function(t,e){return t[FT]=e}(t,{previous:qs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new PT(u&&u.currentValue,e,o===qs),t[r]=e}const FT="__ngSimpleChanges__";function LT(t){return t[FT]||null}let Jf;function Me(t){return!!t.listen}const jT={createRenderer:(t,e)=>void 0!==Jf?Jf:"undefined"!=typeof document?document:void 0};function He(t){for(;Array.isArray(t);)t=t[0];return t}function Mn(t,e){return He(e[t.index])}function Zf(t,e){return t.data[e]}function mn(t,e){const n=e[t];return gr(n)?n:n[0]}function ep(t){return 128==(128&t[2])}function gi(t,e){return null==e?null:t[e]}function $T(t){t[18]=0}function tp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const U={lFrame:YT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function HT(){return U.bindingsEnabled}function w(){return U.lFrame.lView}function se(){return U.lFrame.tView}function et(){let t=GT();for(;null!==t&&64===t.type;)t=t.parent;return t}function GT(){return U.lFrame.currentTNode}function mr(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function np(){return U.lFrame.isParent}function dl(){return U.isInCheckNoChangesMode}function hl(t){U.isInCheckNoChangesMode=t}function Js(){return U.lFrame.bindingIndex++}function WL(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,ip(e)}function ip(t){U.lFrame.currentDirectiveIndex=t}function op(t){U.lFrame.currentQueryIndex=t}function KL(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function KT(t,e,n){if(n&L.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&L.Host||(i=KL(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=QT();return r.currentTNode=e,r.lView=t,!0}function fl(t){const e=QT(),n=t[1];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QT(){const t=U.lFrame,e=null===t?null:t.child;return null===e?YT(t):e}function YT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function JT(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const XT=JT;function pl(){const t=JT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $t(){return U.lFrame.selectedIndex}function mi(t){U.lFrame.selectedIndex=t}function gl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function ml(t,e,n){ZT(t,e,3,n)}function yl(t,e,n,r){(3&t[2])===n&&ZT(t,e,n,r)}function ap(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ZT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(rV(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function rV(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class za{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _l(t,e,n){const r=Me(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];cp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function eD(t){return 3===t||4===t||6===t}function cp(t){return 64===t.charCodeAt(0)}function vl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||tD(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function tD(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function nD(t){return-1!==t}function Xs(t){return 32767&t}function Zs(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let lp=!0;function El(t){const e=lp;return lp=t,e}let cV=0;function Qa(t,e){const n=hp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,dp(r.data,t),dp(e,null),dp(r.blueprint,null));const i=Il(t,e),s=t.injectorIndex;if(nD(i)){const o=Xs(i),a=Zs(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function dp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Il(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function wl(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($a)&&(r=n[$a]),null==r&&(r=n[$a]=cV++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function sD(t,e,n){if(n&L.Optional)return t;tl(e,"NodeInjector")}function oD(t,e,n,r){if(n&L.Optional&&void 0===r&&(r=null),0==(n&(L.Self|L.Host))){const i=t[9],s=hi(void 0);try{return i?i.get(e,r,n&L.Optional):AT(e,r,n&L.Optional)}finally{hi(s)}}return sD(r,e,n)}function aD(t,e,n,r=L.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($a)?t[$a]:void 0;return"number"==typeof e?e>=0?255&e:hV:e}(n);if("function"==typeof s){if(!KT(e,t,r))return r&L.Host?sD(i,n,r):oD(e,n,r,i);try{const o=s(r);if(null!=o||r&L.Optional)return o;tl(n)}finally{XT()}}else if("number"==typeof s){let o=null,a=hp(t,e),u=-1,c=r&L.Host?e[16][6]:null;for((-1===a||r&L.SkipSelf)&&(u=-1===a?Il(t,e):e[a+8],-1!==u&&lD(r,!1)?(o=e[1],a=Xs(u),e=Zs(u,e)):a=-1);-1!==a;){const l=e[1];if(cD(s,a,l.data)){const d=fV(a,e,n,o,r,c);if(d!==uD)return d}u=e[a+8],-1!==u&&lD(r,e[1].data[a+8]===c)&&cD(s,a,e)?(o=l,a=Xs(u),e=Zs(u,e)):a=-1}}}return oD(e,n,r,i)}const uD={};function hV(){return new eo(et(),w())}function fV(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Qn(f)&&f.type===n)return u}return null}(a,o,n,null==r?al(a)&&lp:r!=o&&0!=(3&a.type),i&L.Host&&s===a);return null!==l?Ya(e,o,l,a):uD}function Ya(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof za}(i)){const o=i;o.resolving&&function(t,e){throw new Hi("200",`Circular dependency in DI detected for ${t}`)}(Bt(s[n]));const a=El(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?hi(o.injectImpl):null;KT(t,r,L.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=OT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&hi(u),El(a),o.resolving=!1,XT()}}return i}function cD(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function lD(t,e){return!(t&L.Self||t&L.Host&&e)}class eo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aD(this._tNode,this._lView,e,r,n)}}const no="__parameters__";function Yi(t,e,n){return fi(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(no)?u[no]:Object.defineProperty(u,no,{value:[]})[no];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class le{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function _r(t,e){t.forEach(n=>Array.isArray(n)?_r(n,e):e(n))}function Dl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ji(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const eu={},vp="__NG_DI_FLAG__",so="ngTempTokenPath",AV=/\n/gm,Ep="__source",Ip=de({provide:String,useValue:de});let tu;function oo(t){const e=tu;return tu=t,e}function xV(t,e=L.Default){if(void 0===tu)throw new Error("inject() must be called from an injection context");return null===tu?AT(t,void 0,e):tu.get(t,e&L.Optional?null:void 0,e)}function Z(t,e=L.Default){return($f||xV)(P(t),e)}function Xi(t){const e=[];for(let n=0;n<t.length;n++){const r=P(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=L.Default;for(let o=0;o<r.length;o++){const a=r[o],u=kV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function nu(t,e){return t[vp]=e,t.prototype[vp]=e,t}function kV(t){return t[vp]}function mD(t,e,n,r){const i=t[so];throw e[Ep]&&i.unshift(e[Ep]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Y(e);if(Array.isArray(e))i=e.map(Y).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Y(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[so]=null,t}const ru=nu(Yi("Inject",t=>({token:t})),-1),Ge=nu(Yi("Optional"),8),Zi=nu(Yi("SkipSelf"),4),FD="__ngContext__";function kt(t,e){t[FD]=e}function kp(t){const e=function(t){return t[FD]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Rl(t){return t.ngOriginalError}function b2(t,...e){t.error(...e)}class ts{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||b2}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Rl(e)):null}_findOriginalError(e){let n=e&&Rl(e);for(;n&&Rl(n);)n=Rl(n);return n||null}}const qD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(fe))();function Ir(t){return t instanceof Function?t():t}var vn=(()=>((vn=vn||{})[vn.Important=1]="Important",vn[vn.DashCase=2]="DashCase",vn))();function Mp(t,e){return undefined(t,e)}function cu(t){const e=t[3];return Kn(e)?e[3]:e}function Pp(t){return YD(t[13])}function Op(t){return YD(t[4])}function YD(t){for(;null!==t&&!Kn(t);)t=t[4];return t}function lo(t,e,n,r,i){if(null!=r){let s,o=!1;Kn(r)?s=r:gr(r)&&(o=!0,r=r[0]);const a=He(r);0===t&&null!==n?null==i?nC(e,n,a):ns(e,n,a,i||null,!0):1===t&&null!==n?ns(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pl(t,e);r&&function(t,e,n,r){Me(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==He(n)&&lo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];lu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Lp(t,e,n){return Me(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function XD(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,tp(i,-1)),n.splice(r,1)}function Vp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&XD(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ji(t,10+e);!function(t,e){lu(t,e,e[K],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ZD(t,e){if(!(256&e[2])){const n=e[K];Me(n)&&n.destroyNode&&lu(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Bp(t[1],t);for(;e;){let n=null;if(gr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)gr(e)&&Bp(e[1],e),e=e[3];null===e&&(e=t),gr(e)&&Bp(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bp(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof za)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):He(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Me(e[K])&&e[K].destroy();const n=e[17];if(null!==n&&Kn(e[3])){n!==e[3]&&XD(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function eC(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Ze.None||i===Ze.Emulated)return null}return Mn(r,n)}(t,e.parent,n)}function ns(t,e,n,r,i){Me(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function nC(t,e,n){Me(t)?t.appendChild(e,n):e.appendChild(n)}function rC(t,e,n,r,i){null!==r?ns(t,e,n,r,i):nC(t,e,n)}function Pl(t,e){return Me(t)?t.parentNode(e):e.parentNode}let oC=function(t,e,n){return 40&t.type?Mn(t,n):null};function Ol(t,e,n,r){const i=eC(t,r,e),s=e[K],a=function(t,e,n){return oC(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)rC(s,i,n[u],a,!1);else rC(s,i,n,a,!1)}function Fl(t,e){if(null!==e){const n=e.type;if(3&n)return Mn(e,t);if(4&n)return Up(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Fl(t,r);{const i=t[e.index];return Kn(i)?Up(-1,i):He(i)}}if(32&n)return Mp(e,t)()||He(t[e.index]);{const r=uC(t,e);return null!==r?Array.isArray(r)?r[0]:Fl(cu(t[16]),r):Fl(t,e.next)}}return null}function uC(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Up(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Fl(r,i)}return e[7]}function $p(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&kt(He(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$p(t,e,n.child,r,i,s,!1),lo(e,t,i,a,s);else if(32&u){const c=Mp(n,r);let l;for(;l=c();)lo(e,t,i,l,s);lo(e,t,i,a,s)}else 16&u?lC(t,e,r,n,i,s):lo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function lu(t,e,n,r,i,s){$p(n,r,t.firstChild,e,i,s,!1)}function lC(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)lo(e,t,i,u[c],s);else $p(t,e,u,o[3],i,s,!0)}function dC(t,e,n){Me(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hp(t,e,n){Me(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function hC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const fC="ng-template";function Q2(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==hC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function pC(t){return 4===t.type&&t.value!==fC}function Y2(t,e,n){return e===(4!==t.type||n?t.value:fC)}function J2(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(eD(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Y2(t,u,n)||""===u&&1===e.length){if(Yn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Q2(t.attrs,c,n)){if(Yn(r))return!1;o=!0}continue}const d=X2(8&r?"class":u,i,pC(t),n);if(-1===d){if(Yn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==hC(f,c,0)||2&r&&c!==h){if(Yn(r))return!1;o=!0}}}}else{if(!o&&!Yn(r)&&!Yn(u))return!1;if(o&&Yn(u))continue;o=!1,r=u|1&r}}return Yn(r)||o}function Yn(t){return 0==(1&t)}function X2(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function gC(t,e,n=!1){for(let r=0;r<e.length;r++)if(J2(t,e[r],n))return!0;return!1}function mC(t,e){return t?":not("+e.trim()+")":e}function rB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Yn(o)&&(e+=mC(s,i),i=""),r=o,s=s||!Yn(r);n++}return""!==i&&(e+=mC(s,i)),e}const H={};function Gp(t){yC(se(),w(),$t()+t,dl())}function yC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ml(e,s,n)}else{const s=t.preOrderHooks;null!==s&&yl(e,s,0,n)}mi(n)}function AC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];op(i),o.contentQueries(2,e[s],s)}}}function du(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,$T(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[K]=a||t&&t[K],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ho(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=GT(),o=np(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),U.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mr(s,!0),s}function fo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hu(t,e,n){fl(e);try{const r=t.viewQuery;null!==r&&cg(1,r,n);const i=t.template;null!==i&&SC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&AC(t,e),t.staticViewQueries&&cg(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)FB(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,pl()}}function po(t,e,n,r){const i=e[2];if(256==(256&i))return;fl(e);const s=dl();try{$T(e),function(t){U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&SC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&ml(e,c,null)}else{const c=t.preOrderHooks;null!==c&&yl(e,c,0,null),ap(e,0)}if(function(t){for(let e=Pp(t);null!==e;e=Op(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&tp(s,1),i[2]|=1024}}}(e),function(t){for(let e=Pp(t);null!==e;e=Op(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];ep(r)&&po(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&AC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&ml(e,c)}else{const c=t.contentHooks;null!==c&&yl(e,c,1),ap(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)mi(~i);else{const s=i,o=n[++r],a=n[++r];WL(o,s),a(2,e[s])}}}finally{mi(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)OB(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&cg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&ml(e,c)}else{const c=t.viewHooks;null!==c&&yl(e,c,2),ap(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,tp(e[3],-1))}finally{pl()}}function mB(t,e,n,r){const i=e[10],s=!dl(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&hu(t,e,r),po(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function SC(t,e,n,r,i){const s=$t(),o=2&r;try{mi(-1),o&&e.length>20&&yC(t,e,20,dl()),n(r,i)}finally{mi(s)}}function tg(t,e,n){!HT()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Qa(n,e),kt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Qn(u);c&&kB(e,n,u);const l=Ya(e,t,a,n);kt(l,e),null!==o&&NB(0,a-i,l,u,0,o),c&&(mn(n.index,e)[8]=l)}}(t,e,n,Mn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=U.lFrame.currentDirectiveIndex;try{mi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];ip(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&LC(c,l)}}finally{mi(-1),ip(a)}}(t,e,n))}function ng(t,e,n=Mn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function kC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=jl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function jl(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:H);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function PC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function rg(t,e,n,r){let i=!1;if(HT()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];gC(n,o.selectors,!1)&&(i||(i=[]),wl(Qa(n,e),t,o.type),Qn(o)?(VC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,BC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=fo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=vl(n.mergedAttrs,d.hostAttrs),jC(t,n,e,c,d),xB(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||pC(e)?null:RB(d,s);o.push(h),a=PC(d,c,a),u=PC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Hi("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=vl(n.mergedAttrs,n.attrs),i}function FC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function LC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function VC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function xB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qn(e)&&(n[""]=t)}}function BC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Qi(i.type)),o=new za(s,Qn(i),null);t.blueprint[r]=o,n[r]=o,FC(t,e,0,r,fo(t,n,i.hostVars,H),i)}function kB(t,e,n){const r=Mn(e,t),i=kC(n),s=t[10],o=Ul(t,du(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function NB(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function RB(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function UC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function OB(t,e){const n=mn(e,t);if(ep(n)){const r=n[1];80&n[2]?po(r,n,r.template,n[8]):n[5]>0&&sg(n)}}function sg(t){for(let r=Pp(t);null!==r;r=Op(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];po(o,s,o.template,s[8])}else s[5]>0&&sg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=mn(n[r],t);ep(i)&&i[5]>0&&sg(i)}}function FB(t,e){const n=mn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),hu(r,n,n[8])}function Ul(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ug(t,e,n){const r=e[10];r.begin&&r.begin();try{po(t,e,t.template,n)}catch(i){throw function(t,e){const n=t[9],r=n?n.get(ts,null):null;r&&r.handleError(e)}(e,i),i}finally{r.end&&r.end()}}function $C(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=kp(n),i=r[1];mB(i,r,i.template,n)}}(t[8])}function cg(t,e,n){op(0),e(t,n)}const UB=(()=>Promise.resolve(null))();function zC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Hr(t,e,n){const r=function(t,e){return He(e[t])}(e,t);!function(t,e,n){Me(t)?t.setValue(e,n):e.textContent=n}(t[K],r,n)}function $l(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Vf(i,a):2==s&&(r=Vf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const go=new le("INJECTOR",-1);class KC{get(e,n=eu){if(n===eu){const r=new Error(`NullInjectorError: No provider for ${Y(e)}!`);throw r.name="NullInjectorError",r}return n}}const fu=new le("Set Injector scope."),pu={},GB={};let lg;function QC(){return void 0===lg&&(lg=new KC),lg}function YC(t,e=null,n=null,r){return new WB(t,n,e||QC(),r)}class WB{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&_r(n,a=>this.processProvider(a,e,n)),_r([e],a=>this.processInjectorType(a,[],s)),this.records.set(go,mo(void 0,this));const o=this.records.get(fu);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Y(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=eu,r=L.Default){this.assertNotDestroyed();const i=oo(this),s=hi(void 0);try{if(!(r&L.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof le}(e)&&Vr(e);a=u&&this.injectableDefInScope(u)?mo(dg(e),pu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&L.Self?QC():this.parent).get(e,n=r&L.Optional&&n===eu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[so]=o[so]||[]).unshift(Y(e)),i)throw o;return mD(o,e,"R3InjectorError",this.source)}throw o}finally{hi(s),oo(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Y(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=P(e)))return!1;let i=DT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=DT(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{_r(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];_r(f,p=>this.processProvider(p,h,f||_e))}}this.injectorDefTypes.add(o);const u=Qi(o)||(()=>new o);this.records.set(o,mo(u,pu));const c=i.providers;if(null!=c&&!a){const l=e;_r(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=yo(e=P(e))?e:P(e&&e.provide);const s=function(t,e,n){return XC(t)?mo(void 0,t.useValue):mo(function(t,e,n){let r;if(yo(t)){const i=P(t);return Qi(i)||dg(i)}if(XC(t))r=()=>P(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Xi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Z(P(t.useExisting));else{const i=P(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Qi(i)||dg(i);r=()=>new i(...Xi(t.deps))}return r}(t),pu)}(e);if(yo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=mo(void 0,pu,!0),o.factory=()=>Xi(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===pu&&(n.value=GB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=P(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function dg(t){const e=Vr(t),n=null!==e?e.factory:Qi(t);if(null!==n)return n;if(t instanceof le)throw new Error(`Token ${Y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${Y(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[nl]||t[CT]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function XC(t){return null!==t&&"object"==typeof t&&Ip in t}function yo(t){return"function"==typeof t}const ZC=function(t,e,n){return function(t,e=null,n=null,r){const i=YC(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let we=(()=>{class t{static create(n,r){return Array.isArray(n)?ZC(n,r,""):ZC(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=eu,t.NULL=new KC,t.\u0275prov=ge({token:t,providedIn:"any",factory:()=>Z(go)}),t.__NG_ELEMENT_ID__=-1,t})();function fj(t,e){gl(kp(t)[1],et())}let Hl=null;function _o(){if(!Hl){const t=fe.Symbol;if(t&&t.iterator)Hl=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Hl=r)}}}return Hl}class Zn{constructor(e){this.wrapped=e}static wrap(e){return new Zn(e)}static unwrap(e){return Zn.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Zn}}function mu(t){return!!_g(t)&&(Array.isArray(t)||!(t instanceof Map)&&_o()in t)}function _g(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Nt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ee(t,e=L.Default){const n=w();return null===n?Z(t,e):aD(et(),n,P(t),e)}function bg(t,e,n){const r=w();return Nt(r,Js(),e)&&function(t,e,n,r,i,s,o,a){const u=Mn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(zC(t,n,l,r,i),al(e)&&function(t,e){const n=mn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Me(s)?s.setProperty(u,r,i):cp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(se(),function(){const t=U.lFrame;return Zf(t.tView,t.selectedIndex)}(),r,t,e,r[K],n,!1),bg}function Tg(t,e,n,r,i){const o=i?"class":"style";zC(t,n,e.inputs[o],o,r)}function Wl(t,e,n,r){const i=w(),s=se(),o=20+t,a=i[K],u=i[o]=Lp(a,e,U.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=ho(e,t,2,i,gi(a,s));return rg(e,n,c,gi(a,o)),null!==c.attrs&&$l(c,c.attrs,!1),null!==c.mergedAttrs&&$l(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];mr(c,!0);const l=c.mergedAttrs;null!==l&&_l(a,u,l);const d=c.classes;null!==d&&Hp(a,u,d);const h=c.styles;null!==h&&dC(a,u,h),64!=(64&c.flags)&&Ol(s,i,u,c),0===U.lFrame.elementDepthCount&&kt(u,i),U.lFrame.elementDepthCount++,ul(c)&&(tg(s,i,c),function(t,e,n){if(Kf(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&ng(i,c)}function zl(){let t=et();np()?U.lFrame.isParent=!1:(t=t.parent,mr(t,!1));const e=t;U.lFrame.elementDepthCount--;const n=se();n.firstCreatePass&&(gl(n,t),Kf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Tg(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Tg(n,e,w(),e.stylesWithoutHost,!1)}function Dg(t){return!!t&&"function"==typeof t.then}function H0(t){return!!t&&"function"==typeof t.subscribe}const G0=H0;function vA(t,e=""){const n=w(),r=se(),i=t+20,s=r.firstCreatePass?ho(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Me(t)?t.createText(e):t.createTextNode(e)}(n[K],e);Ol(r,n,o,s),mr(s,!1)}function Ql(t,e,n){const r=w(),i=function(t,e,n,r){return Nt(t,Js(),n)?e+W(n)+r:H}(r,t,e,n);return i!==H&&Hr(r,$t(),i),Ql}const is=void 0;var $U=["en",[["a","p"],["AM","PM"],is],[["AM","PM"],is,is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",is,"{1} 'at' {0}",is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ko={};function UA(t){return t in ko||(ko[t]=fe.ng&&fe.ng.common&&fe.ng.common.locales&&fe.ng.common.locales[t]),ko[t]}var x=(()=>((x=x||{})[x.LocaleId=0]="LocaleId",x[x.DayPeriodsFormat=1]="DayPeriodsFormat",x[x.DayPeriodsStandalone=2]="DayPeriodsStandalone",x[x.DaysFormat=3]="DaysFormat",x[x.DaysStandalone=4]="DaysStandalone",x[x.MonthsFormat=5]="MonthsFormat",x[x.MonthsStandalone=6]="MonthsStandalone",x[x.Eras=7]="Eras",x[x.FirstDayOfWeek=8]="FirstDayOfWeek",x[x.WeekendRange=9]="WeekendRange",x[x.DateFormat=10]="DateFormat",x[x.TimeFormat=11]="TimeFormat",x[x.DateTimeFormat=12]="DateTimeFormat",x[x.NumberSymbols=13]="NumberSymbols",x[x.NumberFormats=14]="NumberFormats",x[x.CurrencyCode=15]="CurrencyCode",x[x.CurrencySymbol=16]="CurrencySymbol",x[x.CurrencyName=17]="CurrencyName",x[x.Currencies=18]="Currencies",x[x.Directionality=19]="Directionality",x[x.PluralCase=20]="PluralCase",x[x.ExtraData=21]="ExtraData",x))();const Yl="en-US";let $A=Yl;function xg(t){pn(t,"Expected localeId to be defined"),"string"==typeof t&&($A=t.toLowerCase().replace(/_/g,"-"))}class fS{}const gS="ngComponent";class H${resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${Y(t)}. Did you add it to @NgModule.entryComponents?`);return e[gS]=t,e}(e)}}let Ro=(()=>{class t{}return t.NULL=new H$,t})();function td(...t){}function Mo(t,e){return new nr(Mn(t,e))}const W$=function(){return Mo(et(),w())};let nr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=W$,t})();class nd{}let Lg=(()=>{class t{}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>null}),t})();class rd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Vg=new rd("12.2.15");class _S{constructor(){}supports(e){return mu(e)}create(e){return new X$(e)}}const J$=(t,e)=>e;class X${constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||J$}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ES(r,i,s)?n:r,a=ES(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!mu(e))throw new Error(`Error trying to diff '${Y(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[_o()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Z$(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Z${constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eH{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new eH,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ES(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class IS{constructor(){}supports(e){return e instanceof Map||_g(e)}create(){return new tH}}class tH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||_g(e)))throw new Error(`Error trying to diff '${Y(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new nH(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class nH{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wS(){return new bu([new _S])}let bu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||wS()),deps:[[t,new Zi,new Ge]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=ge({token:t,providedIn:"root",factory:wS}),t})();function bS(){return new Po([new IS])}let Po=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bS()),deps:[[t,new Zi,new Ge]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=ge({token:t,providedIn:"root",factory:bS}),t})();function id(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(He(s)),Kn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&id(u[1],u,c,r)}const o=n.type;if(8&o)id(t,e,n.child,r);else if(32&o){const a=Mp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=uC(e,n);if(Array.isArray(a))r.push(...a);else{const u=cu(e[16]);id(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Tu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return id(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Kn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vp(e,r),Ji(n,r))}this._attachedToViewContainer=!1}ZD(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=function(t){return t[7]||(t[7]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function(t){for(;t;){t[2]|=64;const e=cu(t);if(CL(t)&&!e)return t;t=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ug(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){hl(!0);try{ug(t,e,n)}finally{hl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){lu(t,e,e[K],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class iH extends Tu{constructor(e){super(e),this._view=e}detectChanges(){$C(this._view)}checkNoChanges(){!function(t){hl(!0);try{$C(t)}finally{hl(!1)}}(this._view)}get context(){return null}}const oH=function(t){return function(t,e,n){if(al(t)&&!n){const r=mn(t.index,e);return new Tu(r,r)}return 47&t.type?new Tu(e[16],e):null}(et(),w(),16==(16&t))};let aH=(()=>{class t{}return t.__NG_ELEMENT_ID__=oH,t})();const lH=[new IS],hH=new bu([new _S]),fH=new Po(lH),gH=function(){return function(t,e){return 4&t.type?new yH(e,t,Mo(t,e)):null}(et(),w())};let qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=gH,t})();const mH=qr,yH=class extends mH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=du(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),hu(n,r,e),new Tu(r)}};class ss{}const IH=function(){return function(t,e){let n;const r=e[t.index];if(Kn(r))n=r;else{let i;if(8&t.type)i=He(r);else{const s=e[K];i=s.createComment("");const o=Mn(t,e);ns(s,Pl(s,o),i,function(t,e){return Me(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=UC(r,e,i,t),Ul(e,n)}return new TS(n,t,e)}(et(),w())};let Cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=IH,t})();const bH=Cr,TS=class extends bH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Il(this._hostTNode,this._hostLView);if(nD(e)){const n=Zs(e,this._hostLView),r=Xs(e);return new eo(n[1].data[r+8],n)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=DS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const u=o.get(ss,null);u&&(s=u)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return Kn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new TS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Dl(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Up(s,o),u=r[K],c=Pl(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,lu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),Dl(Bg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=DS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);r&&(Ji(Bg(this._lContainer),n),ZD(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);return r&&null!=Ji(Bg(this._lContainer),n)?new Tu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function DS(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}const Vo={};class WS extends Ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=jt(e);return new KS(n,this.ngModule)}}function zS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const v3=new le("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qD});class KS extends fS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(rB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return zS(this.componentDef.inputs)}get outputs(){return zS(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Vo,i);return s!==Vo||r===Vo?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(nd,jT),a=s.get(Lg,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(Me(t))return t.selectRootElement(e,n===Ze.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Lp(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||qD,clean:UB,playerHandler:e||null,flags:0}}(),f=jl(0,null,null,1,0,null,null,null,null,null),p=du(null,f,h,d,null,null,o,u,a,s);let m,g;fl(p);try{const E=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=ho(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&($l(u,c,!0),null!==t&&(_l(i,t,c),null!==u.classes&&Hp(i,t,u.classes),null!==u.styles&&dC(i,t,u.styles)));const l=r.createRenderer(t,e),d=du(n,kC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(wl(Qa(u,n),o,e.type),VC(o,u),BC(u,n.length,1)),Ul(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)_l(u,l,["ng-version",Vg.full]);else{const{attrs:_,classes:A}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Yn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&_l(u,l,_),A&&A.length>0&&Hp(u,l,A.join(" "))}if(g=Zf(f,20),void 0!==n){const _=g.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const N=n[A];_.push(null!=N?Array.from(N):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=et();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),jC(t,r,e,fo(t,e,1,null),n));const i=Ya(e,t,r.directiveStart,r);kt(i,e);const s=Mn(r,e);return s&&kt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=et();e.contentQueries(1,o,u.directiveStart)}const a=et();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mi(a.index),FC(n[1],a,0,a.directiveStart,a.directiveEnd,e),LC(e,o)),o}(E,this.componentDef,p,h,[fj]),hu(f,p,null)}finally{pl()}return new w3(this.componentType,m,Mo(g,p),p,g)}}class w3 extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new iH(i),this.componentType=e}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Bo=new Map;class D3 extends ss{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new WS(this);const r=kn(e),i=function(t){return t[_L]||null}(e);i&&xg(i),this._bootstrapComponents=Ir(r.bootstrap),this._r3Injector=YC(e,n,[{provide:ss,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],Y(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=we.THROW_IF_NOT_FOUND,r=L.Default){return e===we||e===ss||e===go?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xg extends class{}{constructor(e){super(),this.moduleType=e,null!==kn(e)&&function(t){const e=new Set;!function n(r){const i=kn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Y(e)} vs ${Y(e.name)}`)}(s,Bo.get(s),r),Bo.set(s,r));const o=Ir(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new D3(this.moduleType,e)}}function JS(t,e,n,r,i,s){const o=e+n;return Nt(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===H?void 0:n}(t,o+1)}function rx(t,e,n){const r=t+20,i=w(),s=function(t,e){return t[e]}(i,r);return function(t,e){Zn.isWrapped(e)&&(e=Zn.unwrap(e),t[U.lFrame.bindingIndex]=H);return e}(i,function(t,e){return t[1].data[e].pure}(i,r)?JS(i,function(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n))}function Zg(t){return e=>{setTimeout(t,void 0,e)}}const Wr=class extends Pf{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Zg(u),a&&(a=Zg(a)),c&&(c=Zg(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof ye&&e.add(l),l}};Symbol;const fd=new le("Application Initializer");let Uo=(()=>{class t{constructor(n){this.appInits=n,this.resolve=td,this.reject=td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Dg(s))n.push(s);else if(G0(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Z(fd,8))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const Fu=new le("AppId"),SG={provide:Fu,useFactory:function(){return`${lm()}${lm()}${lm()}`},deps:[]};function lm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cx=new le("Platform Initializer"),Lu=new le("Platform ID"),xG=new le("appBootstrapListener");let dm=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const wi=new le("LocaleId"),Ax=new le("DefaultCurrencyCode");class NG{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const hm=function(t){return new Xg(t)},RG=hm,MG=function(t){return Promise.resolve(hm(t))},Sx=function(t){const e=hm(t),r=Ir(kn(t).declarations).reduce((i,s)=>{const o=jt(s);return o&&i.push(new KS(o)),i},[]);return new NG(e,r)},PG=Sx,OG=function(t){return Promise.resolve(Sx(t))};let gd=(()=>{class t{constructor(){this.compileModuleSync=RG,this.compileModuleAsync=MG,this.compileModuleAndAllComponentsSync=PG,this.compileModuleAndAllComponentsAsync=OG}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const VG=(()=>Promise.resolve(0))();function fm(t){"undefined"==typeof Zone?VG.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wr(!1),this.onMicrotaskEmpty=new Wr(!1),this.onStable=new Wr(!1),this.onError=new Wr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=fe.requestAnimationFrame,e=fe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gm(t),t.isCheckStableRunning=!0,pm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return xx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),kx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return xx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),kx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,gm(t),pm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,jG,td,td);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const jG={};function pm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kx(t){t._nesting--,pm(t)}class HG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wr,this.onMicrotaskEmpty=new Wr,this.onStable=new Wr,this.onError=new Wr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let mm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),fm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Z(qe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),Nx=(()=>{class t{constructor(){this._applications=new Map,ym.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ym.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class GG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let ym=new GG,Rx=!0,Mx=!1;let sr;const Ox=new le("AllowMultipleToken");function Fx(t,e,n=[]){const r=`Platform: ${e}`,i=new le(r);return(s=[])=>{let o=Lx();if(!o||o.injector.get(Ox,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:fu,useValue:"platform"});!function(t){if(sr&&!sr.destroyed&&!sr.injector.get(Ox,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sr=t.get(Vx);const e=t.get(Cx,null);e&&e.forEach(n=>n())}(we.create({providers:a,name:r}))}return function(t){const e=Lx();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Lx(){return sr&&!sr.destroyed?sr:null}let Vx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new HG:("zone.js"===t?void 0:t)||new qe({enableLongStackTrace:(Mx=!0,Rx),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:qe,useValue:a}];return a.run(()=>{const c=we.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(ts,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{_m(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Dg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Uo);return h.runInitializers(),h.donePromise.then(()=>(xg(l.injector.get(wi,Yl)||Yl),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=Bx({},r);return function(t,e,n){const r=new Xg(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Vu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Y(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Z(we))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function Bx(t,e){return Array.isArray(e)?e.reduce(Bx,t):Object.assign(Object.assign({},t),e)}let Vu=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ie(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new ie(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),fm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return gT(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof ie?t[0]:function(t=Number.POSITIVE_INFINITY){return ET(ue,t)}(e)(IT(t,n))}(a,u.pipe(t=>wT()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(r,ZF);return s.source=r,s.subjectFactory=i,s}}(iL)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof fS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ss),a=i.create(we.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(mm,null),l=c&&a.injector.get(Nx);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),_m(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;_m(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(xG,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(Z(qe),Z(we),Z(ts),Z(Ro),Z(Uo))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function _m(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yq=Fx(null,"core",[{provide:Lu,useValue:"unknown"},{provide:Vx,deps:[we]},{provide:Nx,deps:[]},{provide:dm,deps:[]}]),wq=[{provide:Vu,useClass:Vu,deps:[qe,we,ts,Ro,Uo]},{provide:v3,deps:[qe],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Uo,useClass:Uo,deps:[[new Ge,fd]]},{provide:gd,useClass:gd,deps:[]},SG,{provide:bu,useFactory:function(){return hH},deps:[]},{provide:Po,useFactory:function(){return fH},deps:[]},{provide:wi,useFactory:function(t){return xg(t=t||"undefined"!=typeof $localize&&$localize.locale||Yl),t},deps:[[new ru(wi),new Ge,new Zi]]},{provide:Ax,useValue:"USD"}];let Tq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Z(Vu))},t.\u0275mod=Gi({type:t}),t.\u0275inj=Lr({providers:wq}),t})(),Dd=null;function Hu(){return Dd}const zt=new le("DocumentToken");var We=(()=>((We=We||{})[We.Zero=0]="Zero",We[We.One=1]="One",We[We.Two=2]="Two",We[We.Few=3]="Few",We[We.Many=4]="Many",We[We.Other=5]="Other",We))();const RW=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=UA(e);if(n)return n;const r=e.split("-")[0];if(n=UA(r),n)return n;if("en"===r)return $U;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[x.PluralCase]};class Od{}let a4=(()=>{class t extends Od{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(RW(r||this.locale)(n)){case We.Zero:return"zero";case We.One:return"one";case We.Two:return"two";case We.Few:return"few";case We.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(Z(wi))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class d4{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bk=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new d4(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new Tk(i,a);r.push(u)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const u=new Tk(i,a);r.push(u)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(ee(Cr),ee(qr),ee(bu))},t.\u0275dir=xn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Tk{constructor(e,n){this.record=e,this.view=n}}class E4{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class I4{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}onDestroy(e){}}const w4=new I4,b4=new E4;let Ak=(()=>{class t{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Dg(n))return w4;if(H0(n))return b4;throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Y(t)}'`)}(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(ee(aH,16))},t.\u0275pipe=en({name:"async",type:t,pure:!1}),t})(),B4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gi({type:t}),t.\u0275inj=Lr({providers:[{provide:Od,useClass:a4}]}),t})();class qm extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Dd||(Dd=t)}(new qm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Wu=Wu||document.querySelector("base"),Wu?Wu.getAttribute("href"):null);return null==n?null:function(t){Fd=Fd||document.createElement("a"),Fd.setAttribute("href",t);const e=Fd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Fd,Wu=null;const Nk=new le("TRANSITION_ID"),Q4=[{provide:fd,useFactory:function(t,e,n){return()=>{n.get(Uo).donePromise.then(()=>{const r=Hu(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Nk,zt,we],multi:!0}];class Wm{static init(){!function(t){ym=t}(new Wm)}addToWindow(e){fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),fe.getAllAngularRootElements=()=>e.getAllRootElements(),fe.frameworkStabilizers||(fe.frameworkStabilizers=[]),fe.frameworkStabilizers.push(r=>{const i=fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Hu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Y4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const zu=new le("EventManagerPlugins");let Vd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Z(zu),Z(qe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class zm{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Hu().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Mk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t extends Mk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Pk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Pk))}}return t.\u0275fac=function(n){return new(n||t)(Z(zt))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function Pk(t){Hu().remove(t)}const Km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qm=/%COMP%/g;function Bd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Bd(t,i,n):(i=i.replace(Qm,t),n.push(i))}return n}function Lk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ym=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Jm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ze.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new d8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ze.ShadowDom:return new h8(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Bd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Z(Vd),Z(Ku),Z(Fu))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class Jm{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(Km[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Km[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Km[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vn.DashCase|vn.Important)?e.style.setProperty(n,r,i&vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Lk(r)):this.eventManager.addEventListener(e,n,Lk(r))}}class d8 extends Jm{constructor(e,n,r,i){super(e),this.component=r;const s=Bd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(Qm,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Qm,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class h8 extends Jm{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Bd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let f8=(()=>{class t extends zm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Z(zt))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const jk=["alt","control","meta","shift"],E8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let w8=(()=>{class t extends zm{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hu().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(jk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uk.hasOwnProperty(e)&&(e=Uk[e]))}return E8[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jk.forEach(s=>{s!=i&&I8[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(Z(zt))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const k8=Fx(yq,"browser",[{provide:Lu,useValue:"browser"},{provide:Cx,useValue:function(){qm.makeCurrent(),Wm.init()},multi:!0},{provide:zt,useFactory:function(){return function(t){Jf=t}(document),document},deps:[]}]),N8=[[],{provide:fu,useValue:"root"},{provide:ts,useFactory:function(){return new ts},deps:[]},{provide:zu,useClass:f8,multi:!0,deps:[zt,qe,Lu]},{provide:zu,useClass:w8,multi:!0,deps:[zt]},[],{provide:Ym,useClass:Ym,deps:[Vd,Ku,Fu]},{provide:nd,useExisting:Ym},{provide:Mk,useExisting:Ku},{provide:Ku,useClass:Ku,deps:[zt]},{provide:mm,useClass:mm,deps:[qe]},{provide:Vd,useClass:Vd,deps:[zu,qe]},{provide:class{},useClass:Y4,deps:[]},[]];let R8=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Fu,useValue:n.appId},{provide:Nk,useExisting:Fu},Q4]}}}return t.\u0275fac=function(n){return new(n||t)(Z(t,12))},t.\u0275mod=Gi({type:t}),t.\u0275inj=Lr({providers:N8,imports:[B4,Tq]}),t})();function Hk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Hk(s,r,i,o,a,"next",u)}function a(u){Hk(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function In(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function jd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Kk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Go(){return"object"==typeof indexedDB}function Ud(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function oy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(J8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Qr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const J8=/\{\$([^}]+)}/g;function ay(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yk(s)&&Yk(o)){if(!ay(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yk(t){return null!==t&&"object"==typeof t}function Jk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Z8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=uy),void 0===i.error&&(i.error=uy),void 0===i.complete&&(i.complete=uy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uy(){}function ly(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Di(t){return t&&t._delegate?t._delegate:t}class Kt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ls="[DEFAULT]";class oz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:az(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function az(t){return t===ls?void 0:t}class cz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const dy=[];var oe=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(oe||(oe={})),oe))();const Xk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},lz=oe.INFO,dz={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},hz=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=dz[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class qo{constructor(e){this.name=e,this._logLevel=lz,this._logHandler=hz,this._userLogHandler=null,dy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}class fz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const hy="@firebase/app",fy=new qo("@firebase/app"),py="[DEFAULT]",jz={[hy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ds=new Map,Hd=new Map;function Uz(t,e){try{t.container.addComponent(e)}catch(n){fy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rn(t){const e=t.name;if(Hd.has(e))return fy.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,t);for(const n of ds.values())Uz(n,t);return!0}function Gd(t,e){return t.container.getProvider(e)}const Qu=new Ar("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Hz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qu.create("app-deleted",{appName:this._name})}}function Gz(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:py,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Qu.create("bad-app-name",{appName:String(r)});const i=ds.get(r);if(i){if(ay(t,i.options)&&ay(n,i.config))return i;throw Qu.create("duplicate-app",{appName:r})}const s=new cz(r);for(const a of Hd.values())s.addComponent(a);const o=new Hz(t,n,s);return ds.set(r,o),o}function eN(t=py){const e=ds.get(t);if(!e)throw Qu.create("no-app",{appName:t});return e}function tN(){return Array.from(ds.values())}function je(t,e,n){var r;let i=null!==(r=jz[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fy.warn(a.join(" "))}rn(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}rn(new Kt("platform-logger",e=>new fz(e),"PRIVATE")),je(hy,"0.7.14",""),je(hy,"0.7.14","esm2017"),je("fire-js",""),je("firebase","9.6.4","app");var Wo=qn(676);const nN="@firebase/installations",iN="w:0.5.5",sN="FIS_v2",Yr=new Ar("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oN(t){return t instanceof Qr&&t.code.includes("request-failed")}function yy({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function aN(t){return{token:t.token,requestStatus:2,expiresIn:Zz(t.expiresIn),creationTime:Date.now()}}function _y(t,e){return vy.apply(this,arguments)}function vy(){return(vy=y(function*(t,e){const r=(yield e.json()).error;return Yr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function uN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cN(t,{refreshToken:e}){const n=uN(t);return n.append("Authorization",function(t){return`${sN} ${t}`}(e)),n}function Ey(t){return Iy.apply(this,arguments)}function Iy(){return(Iy=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Zz(t){return Number(t.replace("s","000"))}function t6(t,e){return wy.apply(this,arguments)}function wy(){return(wy=y(function*(t,{fid:e}){const n=yy(t),s={method:"POST",headers:uN(t),body:JSON.stringify({fid:e,authVersion:sN,appId:t.appId,sdkVersion:iN})},o=yield Ey(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:aN(a.authToken)}}throw yield _y("Create Installation",o)})).apply(this,arguments)}function lN(t){return new Promise(e=>{setTimeout(e,t)})}const r6=/^[cdef][\w-]{21}$/;function i6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return r6.test(n)?n:""}catch(t){return""}}function zo(t){return`${t.appName}!${t.appId}`}const Ko=new Map;function dN(t,e){const n=zo(t);hN(n,e),function(t,e){const n=(!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=t=>{hN(t.data.key,t.data.fid)}),hs);n&&n.postMessage({key:t,fid:e}),0===Ko.size&&hs&&(hs.close(),hs=null)}(n,e)}function hN(t,e){const n=Ko.get(t);if(n)for(const r of n)r(e)}let hs=null;const fs="firebase-installations-store";let Ty=null;function Dy(){return Ty||(Ty=(0,Wo.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(fs)}})),Ty}function Wd(t,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=y(function*(t,e){const n=zo(t),i=(yield Dy()).transaction(fs,"readwrite"),s=i.objectStore(fs),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&dN(t,e.fid),e})).apply(this,arguments)}function Ay(t){return Sy.apply(this,arguments)}function Sy(){return(Sy=y(function*(t){const e=zo(t),r=(yield Dy()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.complete})).apply(this,arguments)}function Yu(t,e){return xy.apply(this,arguments)}function xy(){return(xy=y(function*(t,e){const n=zo(t),i=(yield Dy()).transaction(fs,"readwrite"),s=i.objectStore(fs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&dN(t,a.fid),a})).apply(this,arguments)}function ky(t){return Ny.apply(this,arguments)}function Ny(){return(Ny=y(function*(t){let e;const n=yield Yu(t,r=>{const i=d6(r),s=h6(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function d6(t){return mN(t||{fid:i6(),registrationStatus:0})}function h6(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Ry.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:p6(t)}:{installationEntry:e}}function Ry(){return(Ry=y(function*(t,e){try{return Wd(t,yield t6(t,e))}catch(n){throw oN(n)&&409===n.customData.serverCode?yield Ay(t):yield Wd(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function p6(t){return My.apply(this,arguments)}function My(){return(My=y(function*(t){let e=yield gN(t);for(;1===e.registrationStatus;)yield lN(100),e=yield gN(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield ky(t);return r||n}return e})).apply(this,arguments)}function gN(t){return Yu(t,e=>{if(!e)throw Yr.create("installation-not-found");return mN(e)})}function mN(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function m6(t,e){return Py.apply(this,arguments)}function Py(){return(Py=y(function*({appConfig:t,platformLoggerProvider:e},n){const r=y6(t,n),i=cN(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iN}})},u=yield Ey(()=>fetch(r,a));if(u.ok)return aN(yield u.json());throw yield _y("Generate Auth Token",u)})).apply(this,arguments)}function y6(t,{fid:e}){return`${yy(t)}/${e}/authTokens:generate`}function Oy(t){return Fy.apply(this,arguments)}function Fy(){return(Fy=y(function*(t,e=!1){let n;const r=yield Yu(t.appConfig,s=>{if(!_N(s))throw Yr.create("not-registered");const o=s.authToken;if(!e&&E6(o))return s;if(1===o.requestStatus)return n=_6(t,e),s;{if(!navigator.onLine)throw Yr.create("app-offline");const a=w6(s);return n=v6(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function _6(t,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=y(function*(t,e){let n=yield yN(t.appConfig);for(;1===n.authToken.requestStatus;)yield lN(100),n=yield yN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Oy(t,e):r})).apply(this,arguments)}function yN(t){return Yu(t,e=>{if(!_N(e))throw Yr.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function v6(t,e){return Vy.apply(this,arguments)}function Vy(){return(Vy=y(function*(t,e){try{const n=yield m6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Wd(t.appConfig,r),n}catch(n){if(!oN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Wd(t.appConfig,r)}else yield Ay(t.appConfig);throw n}})).apply(this,arguments)}function _N(t){return void 0!==t&&2===t.registrationStatus}function E6(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function w6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function By(){return(By=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield ky(e.appConfig);return r?r.catch(console.error):Oy(e).catch(console.error),n.fid})).apply(this,arguments)}function jy(){return(jy=y(function*(t,e=!1){const n=t;return yield C6(n.appConfig),(yield Oy(n,e)).token})).apply(this,arguments)}function C6(t){return Uy.apply(this,arguments)}function Uy(){return(Uy=y(function*(t){const{registrationPromise:e}=yield ky(t);e&&(yield e)})).apply(this,arguments)}function Gy(t){return Yr.create("missing-app-config-values",{valueName:t})}const vN="installations";rn(new Kt(vN,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw Gy("App Configuration");if(!t.name)throw Gy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:Gd(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),rn(new Kt("installations-internal",t=>{const n=Gd(t.getProvider("app").getImmediate(),vN).getImmediate();return{getId:()=>function(t){return By.apply(this,arguments)}(n),getToken:i=>function(t){return jy.apply(this,arguments)}(n,i)}},"PRIVATE")),je(nN,"0.5.5"),je(nN,"0.5.5","esm2017");const qy="@firebase/remote-config",sn=new Ar("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class G6{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function q6(t=navigator){return t.languages&&t.languages[0]||t.language}class W6{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:q6()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((E,_)=>{e.signal.addEventListener(()=>{const A=new Error("The operation was aborted.");A.name="AbortError",_(A)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(E){let _="fetch-client-network";throw"AbortError"===E.name&&(_="fetch-timeout"),sn.create(_,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let E;try{E=yield h.json()}catch(_){throw sn.create("fetch-client-parse",{originalErrorMessage:_.message})}m=E.entries,g=E.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw sn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Q6{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+ly(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class X6{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kd(t,e){const n=t.target.error||void 0;return sn.create(e,{originalErrorMessage:n&&n.message})}const ps="app_namespace_store";class n7{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Kd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ps,{keyPath:"compositeKey"})}}}catch(n){e(sn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ps],"readonly").objectStore(ps),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Kd(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(sn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ps],"readwrite").objectStore(ps),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Kd(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(sn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ps],"readwrite").objectStore(ps),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Kd(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(sn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class r7{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function s7(){return Yy.apply(this,arguments)}function Yy(){return(Yy=y(function*(){if(!Go())return!1;try{return yield Ud()}catch(t){return!1}})).apply(this,arguments)}rn(new Kt("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw sn.create("registration-window");if(!Go())throw sn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw sn.create("registration-project-id");if(!o)throw sn.create("registration-api-key");if(!a)throw sn.create("registration-app-id");const u=new n7(a,r.name,n=n||"firebase"),c=new r7(u),l=new qo(qy);l.logLevel=oe.ERROR;const d=new W6(i,"9.6.4",n,s,o,a),h=new Q6(d,u),f=new G6(h,u,c,l),p=new X6(r,f,c,u,l);return function(t){const e=Di(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(qy,"0.3.4"),je(qy,"0.3.4","esm2017");const o7="/firebase-messaging-sw.js",a7="/firebase-cloud-messaging-push-scope",bN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TN="google.c.a.c_id",c7="google.c.a.c_l",l7="google.c.a.ts",d7="google.c.a.e";var Qo=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Qo||(Qo={})),Qo))();function Jr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h7(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Jy="fcm_token_details_db",DN="fcm_token_object_Store";function p7(t){return Xy.apply(this,arguments)}function Xy(){return(Xy=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Jy))return null;let e=null;return(yield(0,Wo.openDb)(Jy,5,function(){var r=y(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(DN))return;const o=i.transaction.objectStore(DN),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Jr(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jr(u.auth),p256dh:Jr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jr(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jr(u.auth),p256dh:Jr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jr(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Wo.deleteDb)(Jy),yield(0,Wo.deleteDb)("fcm_vapid_details_db"),yield(0,Wo.deleteDb)("undefined"),g7(e)?e:null})).apply(this,arguments)}function g7(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const gs="firebase-messaging-store";let Zy=null;function e_(){return Zy||(Zy=(0,Wo.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(gs)}})),Zy}function CN(t){return t_.apply(this,arguments)}function t_(){return(t_=y(function*(t){const e=s_(t),r=yield(yield e_()).transaction(gs).objectStore(gs).get(e);if(r)return r;{const i=yield p7(t.appConfig.senderId);if(i)return yield n_(t,i),i}})).apply(this,arguments)}function n_(t,e){return r_.apply(this,arguments)}function r_(){return(r_=y(function*(t,e){const n=s_(t),i=(yield e_()).transaction(gs,"readwrite");return yield i.objectStore(gs).put(e,n),yield i.complete,e})).apply(this,arguments)}function _7(t){return i_.apply(this,arguments)}function i_(){return(i_=y(function*(t){const e=s_(t),r=(yield e_()).transaction(gs,"readwrite");yield r.objectStore(gs).delete(e),yield r.complete})).apply(this,arguments)}function s_({appConfig:t}){return t.appId}const vt=new Ar("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function E7(t,e){return o_.apply(this,arguments)}function o_(){return(o_=y(function*(t,e){const n=yield l_(t),r=SN(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(c_(t.appConfig),i)).json()}catch(o){throw vt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw vt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw vt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function I7(t,e){return a_.apply(this,arguments)}function a_(){return(a_=y(function*(t,e){const n=yield l_(t),r=SN(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${c_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw vt.create("token-update-failed",{errorInfo:o})}if(s.error)throw vt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw vt.create("token-update-no-token");return s.token})).apply(this,arguments)}function AN(t,e){return u_.apply(this,arguments)}function u_(){return(u_=y(function*(t,e){const r={method:"DELETE",headers:yield l_(t)};try{const s=yield(yield fetch(`${c_(t.appConfig)}/${e}`,r)).json();if(s.error)throw vt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw vt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function c_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function l_(t){return d_.apply(this,arguments)}function d_(){return(d_=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function SN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==bN&&(i.web.applicationPubKey=r),i}const w7=6048e5;function b7(t){return h_.apply(this,arguments)}function h_(){return(h_=y(function*(t){const e=yield D7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield CN(t.firebaseDependencies);if(r){if(C7(r.subscriptionOptions,n))return Date.now()>=r.createTime+w7?T7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield AN(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kN(t.firebaseDependencies,n)}return kN(t.firebaseDependencies,n)})).apply(this,arguments)}function xN(t){return f_.apply(this,arguments)}function f_(){return(f_=y(function*(t){const e=yield CN(t.firebaseDependencies);e&&(yield AN(t.firebaseDependencies,e.token),yield _7(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function T7(t,e){return p_.apply(this,arguments)}function p_(){return(p_=y(function*(t,e){try{const n=yield I7(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield n_(t.firebaseDependencies,r),n}catch(n){throw yield xN(t),n}})).apply(this,arguments)}function kN(t,e){return g_.apply(this,arguments)}function g_(){return(g_=y(function*(t,e){const r={token:yield E7(t,e),createTime:Date.now(),subscriptionOptions:e};return yield n_(t,r),r.token})).apply(this,arguments)}function D7(t,e){return m_.apply(this,arguments)}function m_(){return(m_=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h7(e)})})).apply(this,arguments)}function C7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function NN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function k7(t){return"object"==typeof t&&!!t&&TN in t}function RN(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function y_(t){return vt.create("missing-app-config-values",{valueName:t})}RN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),RN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class R7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw y_("App Configuration Object");if(!t.name)throw y_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw y_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function MN(t){return __.apply(this,arguments)}function __(){return(__=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(o7,{scope:a7}),t.swRegistration.update().catch(()=>{})}catch(e){throw vt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function M7(t,e){return v_.apply(this,arguments)}function v_(){return(v_=y(function*(t,e){if(!e&&!t.swRegistration&&(yield MN(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function P7(t,e){return E_.apply(this,arguments)}function E_(){return(E_=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=bN)})).apply(this,arguments)}function I_(){return(I_=y(function*(t,e){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield P7(t,null==e?void 0:e.vapidKey),yield M7(t,null==e?void 0:e.serviceWorkerRegistration),b7(t)})).apply(this,arguments)}function O7(t,e,n){return w_.apply(this,arguments)}function w_(){return(w_=y(function*(t,e,n){const r=F7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[TN],message_name:n[c7],message_time:n[l7],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function F7(t){switch(t){case Qo.NOTIFICATION_CLICKED:return"notification_open";case Qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function b_(){return(b_=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Qo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(NN(n)):t.onMessageHandler.next(NN(n)));const r=n.data;k7(r)&&"1"===r[d7]&&(yield O7(t,n.messageType,r))})).apply(this,arguments)}const ON="@firebase/messaging";function LN(){return T_.apply(this,arguments)}function T_(){return(T_=y(function*(){return"undefined"!=typeof window&&Go()&&(yield Ud())&&oy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}rn(new Kt("messaging",t=>{const e=new R7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return b_.apply(this,arguments)}(e,n)),e},"PUBLIC")),rn(new Kt("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return I_.apply(this,arguments)}(e,r)}},"PRIVATE")),je(ON,"0.9.7"),je(ON,"0.9.7","esm2017");const Qd="analytics",H7="firebase_id",W7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VN="https://www.googletagmanager.com/gtag/js",Et=new qo("@firebase/analytics");function BN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function z7(t,e){const n=document.createElement("script");n.src=`${VN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Q7(t,e,n,r,i,s){return A_.apply(this,arguments)}function A_(){return(A_=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield BN(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Et.error(a)}t("config",i,s)})).apply(this,arguments)}function Y7(t,e,n,r,i){return S_.apply(this,arguments)}function S_(){return(S_=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield BN(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Et.error(s)}})).apply(this,arguments)}function Z7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(VN))return e;return null}const wn=new Ar("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jN=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function iK(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function sK(t){return x_.apply(this,arguments)}function x_(){return(x_=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:iK(r)},s=W7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw wn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function oK(t){return k_.apply(this,arguments)}function k_(){return(k_=y(function*(t,e=jN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw wn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cK;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:6e4),UN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function UN(t,e,n){return N_.apply(this,arguments)}function N_(){return(N_=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=jN){const{appId:s,measurementId:o}=t;try{yield aK(r,e)}catch(a){if(o)return Et.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield sK(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!uK(a)){if(i.deleteThrottleMetadata(s),o)return Et.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?ly(n,i.intervalMillis,30):ly(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Et.debug(`Calling attemptFetch again in ${u} millis`),UN(t,c,r,i)}})).apply(this,arguments)}function aK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uK(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class cK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function lK(){return R_.apply(this,arguments)}function R_(){return(R_=y(function*(){if(!Go())return Et.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ud()}catch(t){return Et.warn(wn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function M_(){return(M_=y(function*(t,e,n,r,i,s,o){var a;const u=oK(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Et.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Et.error(f)),e.push(u);const c=lK().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);Z7()||z7(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[H7]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class hK{constructor(e){this.app=e}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},$N=[];const HN={};let qN,Ju,Yd="dataLayer",P_=!1;function pK(t,e,n){!function(){const t=[];if(jd()&&t.push("This is a browser extension environment."),oy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});Et.warn(n.message)}}();const r=t.options.appId;if(!r)throw wn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw wn.create("no-api-key");Et.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[r])throw wn.create("already-exists",{id:r});if(!P_){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Yd);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield Y7(t,e,n,a,u):"config"===o?yield Q7(t,e,n,r,a,u):t("set",a)}catch(c){Et.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Xr,$N,HN,Yd,"gtag");Ju=s,qN=o,P_=!0}return Xr[r]=function(t,e,n,r,i,s,o){return M_.apply(this,arguments)}(t,$N,HN,e,qN,Yd,n),new hK(t)}function O_(){return(O_=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function IK(){return j_.apply(this,arguments)}function j_(){return(j_=y(function*(){if(jd()||!oy()||!Go())return!1;try{return yield Ud()}catch(t){return!1}})).apply(this,arguments)}const WN="@firebase/analytics";rn(new Kt(Qd,(e,{options:n})=>pK(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),rn(new Kt("analytics-internal",function(e){try{const n=e.getProvider(Qd).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=Di(t),function(t,e,n,r,i){return O_.apply(this,arguments)}(Ju,Xr[t.app.options.appId],e,n,r).catch(i=>Et.error(i))}(n,r,i,s)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(WN,"0.7.5"),je(WN,"0.7.5","esm2017");class TK extends ye{constructor(e,n){super()}schedule(e,n=0){return this}}class U_ extends TK{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}let KN=(()=>{class t{constructor(n,r=t.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return t.now=()=>Date.now(),t})();class Sr extends KN{constructor(e,n=KN.now){super(e,()=>Sr.delegate&&Sr.delegate!==this?Sr.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,r){return Sr.delegate&&Sr.delegate!==this?Sr.delegate.schedule(e,n,r):super.schedule(e,n,r)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const AK=new class extends Sr{}(class extends U_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),SK=new Sr(U_);function Ci(){}class kK{constructor(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}call(e,n){return n.subscribe(new NK(e,this.nextOrObserver,this.error,this.complete))}}class NK extends $e{constructor(e,n,r,i){super(e),this._tapNext=Ci,this._tapError=Ci,this._tapComplete=Ci,this._tapError=r||Ci,this._tapComplete=i||Ci,dn(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||Ci,this._tapError=n.error||Ci,this._tapComplete=n.complete||Ci)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}let RK=1;const MK=Promise.resolve(),Jd={};function QN(t){return t in Jd&&(delete Jd[t],!0)}const YN={setImmediate(t){const e=RK++;return Jd[e]=!0,MK.then(()=>QN(e)&&t()),e},clearImmediate(t){QN(t)}},$_=new class extends Sr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,s=n.length;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=n.shift()));if(this.active=!1,r){for(;++i<s&&(e=n.shift());)e.unsubscribe();throw r}}}(class extends U_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=YN.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,n,r);0===e.actions.length&&(YN.clearImmediate(n),e.scheduled=void 0)}});class Xd extends ie{constructor(e,n=0,r=$_){super(),this.source=e,this.delayTime=n,this.scheduler=r,(!function(t){return!Gs(t)&&t-parseFloat(t)+1>=0}(n)||n<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=$_)}static create(e,n=0,r=$_){return new Xd(e,n,r)}static dispatch(e){const{source:n,subscriber:r}=e;return this.add(n.subscribe(r))}_subscribe(e){return this.scheduler.schedule(Xd.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function JN(t,e=0){return function(r){return r.lift(new LK(t,e))}}class LK{constructor(e,n){this.scheduler=e,this.delay=n}call(e,n){return new Xd(n,this.delay,this.scheduler).subscribe(e)}}const VK=new ie(t=>t.complete());class Un{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(e,n,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,r)}toObservable(){switch(this.kind){case"N":return function(...t){let e=t[t.length-1];return gT(e)?(t.pop(),Ff(t,e)):IT(t)}(this.value);case"E":return function(t,e){return new ie(n=>n.error(t))}(this.error);case"C":return function(t){return t?function(t){return new ie(e=>t.schedule(()=>e.complete()))}(t):VK}()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Un("N",e):Un.undefinedValueNotification}static createError(e){return new Un("E",void 0,e)}static createComplete(){return Un.completeNotification}}function XN(t,e=0){return function(r){return r.lift(new GK(t,e))}}Un.completeNotification=new Un("C"),Un.undefinedValueNotification=new Un("N",void 0);class GK{constructor(e,n=0){this.scheduler=e,this.delay=n}call(e,n){return n.subscribe(new H_(e,this.scheduler,this.delay))}}class H_ extends $e{constructor(e,n,r=0){super(e),this.scheduler=n,this.delay=r}static dispatch(e){const{notification:n,destination:r}=e;n.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(H_.dispatch,this.delay,new qK(e,this.destination)))}_next(e){this.scheduleMessage(Un.createNext(e))}_error(e){this.scheduleMessage(Un.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Un.createComplete()),this.unsubscribe()}}class qK{constructor(e,n){this.notification=e,this.destination=n}}const G_=new rd("7.2.0"),q_="__angularfire_symbol__analyticsIsSupported",W_="__angularfire_symbol__remoteConfigIsSupported",z_="__angularfire_symbol__messagingIsSupported";globalThis[q_]||(globalThis[q_]=IK().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[z_]||(globalThis[z_]=LN().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[W_]||(globalThis[W_]=s7().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const Y_=(t,e)=>{const n=e?[e]:tN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Yo(){}class nR{constructor(e,n=AK){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class WK{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yo,{},Yo,Yo)),n.pipe(function(t,e,n){return function(i){return i.lift(new kK(t,undefined,undefined))}}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rR=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nR(Zone.current)),this.insideAngular=n.run(()=>new nR(Zone.current,SK)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(Z(qe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ms(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function zK(t){return ms().ngZone.runOutsideAngular(()=>t())}function ys(t){return ms().ngZone.run(()=>t())}function KK(t){return ms(),function(t){return function(n){return(n=n.lift(new WK(t.ngZone))).pipe(JN(t.outsideAngular),XN(t.insideAngular))}}(ms())(t)}const YK=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ys(()=>t.apply(n,arguments))}},Zd=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yo,{},Yo,Yo)))),arguments[i]=YK(arguments[i],n));const r=zK(()=>t.apply(this,arguments));if(!e){if(r instanceof ie){const i=ms();return r.pipe(JN(i.outsideAngular),XN(i.insideAngular))}return ys(()=>r)}return r instanceof ie?r.pipe(KK):r instanceof Promise?ys(()=>new Promise((i,s)=>r.then(o=>ys(()=>i(o)),o=>ys(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:ys(()=>r)};class Jo{constructor(e){return e}}class iR{constructor(){return tN()}}const J_=new le("angularfire2._apps"),XK={provide:Jo,useFactory:function(t){return t&&1===t.length?t[0]:new Jo(eN())},deps:[[new Ge,J_]]},ZK={provide:iR,deps:[[new Ge,J_]]};function e5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Jo(r)}}let t5=(()=>{class t{constructor(n){je("angularfire",G_.full,"core"),je("angularfire",G_.full,"app"),je("angular",Vg.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(Z(Lu))},t.\u0275mod=Gi({type:t}),t.\u0275inj=Lr({providers:[XK,ZK]}),t})();function n5(t,...e){return{ngModule:t5,providers:[{provide:J_,useFactory:e5(t),multi:!0,deps:[qe,we,rR,...e]}]}}const r5=Zd(Gz,!0);function oR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const o5=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lR=new Ar("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dR=new qo("@firebase/auth");function th(t,...e){dR.logLevel<=oe.ERROR&&dR.error(`Auth (9.6.4): ${t}`,...e)}function on(t,...e){throw Z_(t,...e)}function xr(t,...e){return Z_(t,...e)}function hR(t,e,n){const r=Object.assign(Object.assign({},o5()),{[e]:n});return new Ar("auth","Firebase",r).create(e,{appName:t.name})}function Z_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lR.create(t,...e)}function D(t,e,...n){if(!t)throw Z_(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function Ai(t,e){t||kr(e)}const fR=new Map;function Zr(t){Ai(t instanceof Function,"Expected a class definition");let e=fR.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fR.set(t,e),e)}function pR(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=zk()||Kk()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===pR()||"https:"===pR()||jd()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class gR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const d5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},h5=new Zu(3e4,6e4);function dt(t,e,n,r){return nv.apply(this,arguments)}function nv(){return(nv=y(function*(t,e,n,r,i={}){return mR(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Jk(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),gR.fetch()(yR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function mR(t,e,n){return rv.apply(this,arguments)}function rv(){return(rv=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d5),e);try{const i=new f5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw nh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw nh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw nh(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hR(t,l,c);on(t,l)}}catch(i){if(i instanceof Qr)throw i;on(t,"network-request-failed")}})).apply(this,arguments)}function yR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class f5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),h5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}function sv(){return(sv=y(function*(t,e){return dt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function m5(t,e){return av.apply(this,arguments)}function av(){return(av=y(function*(t,e){return dt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function uv(){return(uv=y(function*(t,e=!1){const n=Di(t),r=yield n.getIdToken(e),i=rh(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ec(cv(i.auth_time)),issuedAtTime:ec(cv(i.iat)),expirationTime:ec(cv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function cv(t){return 1e3*Number(t)}function rh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return th("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return ry.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(th("Failed to decode base64 JWT payload"),null)}catch(i){return th("Caught error parsing JWT payload as JSON",i),null}}function ti(t,e){return lv.apply(this,arguments)}function lv(){return(lv=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Qr&&v5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function v5({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class E5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class _R{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tc(t){return dv.apply(this,arguments)}function dv(){return(dv=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ti(t,m5(n,{idToken:r}));D(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?b5(s.providerUserInfo):[],a=w5(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _R(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function hv(){return(hv=y(function*(t){const e=Di(t);yield tc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function w5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b5(t){return t.map(e=>{var{providerId:n}=e,r=oR(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fv(){return(fv=y(function*(t,e){const n=yield mR(t,{},y(function*(){const r=Jk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gR.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(void 0!==e.idToken,"internal-error"),D(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=rh(t);return D(e,"internal-error"),D(void 0!==e.exp,"internal-error"),D(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return D(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return fv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nc;return r&&(D("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(D("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(D("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return kr("not implemented")}}function Si(t,e){D("string"==typeof t||void 0===t,"internal-error",{appName:e})}class _s{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=oR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new E5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new _R(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield ti(n,n.stsTokenManager.getToken(n.auth,e));return D(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return uv.apply(this,arguments)}(this,e)}reload(){return function(t){return hv.apply(this,arguments)}(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new _s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield tc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield ti(e,function(t,e){return sv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:A,emailVerified:N,isAnonymous:j,providerData:Ce,stsTokenManager:_t}=n;D(A&&_t,e,"internal-error");const Us=nc.fromJSON(this.name,_t);D("string"==typeof A,e,"internal-error"),Si(d,e.name),Si(h,e.name),D("boolean"==typeof N,e,"internal-error"),D("boolean"==typeof j,e,"internal-error"),Si(f,e.name),Si(p,e.name),Si(m,e.name),Si(g,e.name),Si(E,e.name),Si(_,e.name);const Or=new _s({uid:A,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Us,createdAt:E,lastLoginAt:_});return Ce&&Array.isArray(Ce)&&(Or.providerData=Ce.map(Ui=>Object.assign({},Ui))),g&&(Or._redirectEventId=g),Or}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new nc;i.updateFromServerResponse(n);const s=new _s({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tc(s),s})()}}const vR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,s),this.fullPersistenceKey=ih("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?_s._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Zo(Zr(vR),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Zr(vR);const o=ih(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=_s._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Zo(s,e,r)):new Zo(s,e,r)})()}}function ER(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function(t=In()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function(t=In()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function(t=In()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function(t=In()){return/webos/i.test(t)}(e))return"Webos";if(function(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function(t=In()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function(t=In()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function AR(t,e=[]){let n;switch(t){case"Browser":n=ER(In());break;case"Worker":n=`${ER(In())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.4/${e.length?e.join(","):"FirebaseCore-web"}`}class A5{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SR(this),this.idTokenSubscription=new SR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Zo.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(D(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield tc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Di(e):null;return r&&D(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return y(function*(){if(!n._deleted)return e&&D(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(y(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Zr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Zr(e)||n._popupRedirectResolver;D(r,n,"argument-error"),n.redirectPersistenceManager=yield Zo.create(n,[Zr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return D(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}class SR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new Z8(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new Zu(3e4,6e4),new Zu(2e3,1e4),new Map,new Zu(3e4,6e4),new Zu(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var s1="@firebase/auth";class g9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(t){rn(new Kt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{D(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),D(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(t)},u=new A5(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rn(new Kt("auth-internal",e=>{const n=function(t){return Di(t)}(e.getProvider("auth").getImmediate());return new g9(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(s1,"0.19.6",void 0),je(s1,"0.19.6","esm2017")}("Browser");class u1{constructor(){return Y_("auth")}}const c1=new Map,I9={activated:!1,tokenObservers:[]},w9={initialized:!1,enabled:!1};function ht(t){return c1.get(t)||I9}function lr(t,e){c1.set(t,e)}function yh(){return w9}class A9{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new sy,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new sy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Qt=new Ar("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function d1(t){if(!ht(t).activated)throw Qt.create("use-before-activation",{appName:t.name})}function XE(t,e){return ZE.apply(this,arguments)}function ZE(){return(ZE=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Qt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Qt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Qt.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function M9(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const oc="firebase-app-check-store";let Eh=null;function f1(){return Eh||(Eh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(oc,{keyPath:"compositeKey"})}}}catch(n){e(Qt.create("storage-open",{originalErrorMessage:n.message}))}}),Eh)}function eI(){return(eI=y(function*(t,e){const r=(yield f1()).transaction(oc,"readwrite"),s=r.objectStore(oc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Qt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ac=new qo("@firebase/app-check");function y1(t,e){return Go()?function(t,e){return function(t,e){return eI.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ac.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function _1(){return yh().enabled}function v1(){return iI.apply(this,arguments)}function iI(){return(iI=y(function*(){const t=yh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const H9={error:"UNKNOWN_ERROR"};function G9(t){return ry.encodeString(JSON.stringify(t),!1)}function Ih(t){return sI.apply(this,arguments)}function sI(){return(sI=y(function*(t,e=!1){const n=t.app;d1(n);const r=ht(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&wh(u)&&(i=u)}if(!e&&i&&wh(i))return{token:i.token};let a,o=!1;if(_1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XE(M9(n,yield v1()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield y1(n,u),lr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ac.warn(u.message):ac.error(u),s=u}return i?(a={token:i.token},lr(n,Object.assign(Object.assign({},r),{token:i})),yield y1(n,i)):a=W9(s),o&&I1(n,a),a})).apply(this,arguments)}function aI(t,e){const n=ht(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),lr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function E1(t){const{app:e}=t,n=ht(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new A9(y(function*(){let r;if(r=ht(e).token?yield Ih(t,!0):yield Ih(t),r.error)throw r.error}),()=>!0,()=>{const n=ht(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),lr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function I1(t,e){const n=ht(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function wh(t){return t.expireTimeMillis-Date.now()>0}function W9(t){return{token:G9(H9),error:t}}class z9{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=ht(this.app);for(const n of e)aI(this.app,n.next);return Promise.resolve()}}const x1="app-check-internal";rn(new Kt("app-check",t=>function(t,e){return new z9(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(x1).initialize()})),rn(new Kt(x1,t=>function(t){return{getToken:e=>Ih(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=ht(i),o={next:n,error:r,type:e};if(lr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&wh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),E1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>E1(t))}(t,"INTERNAL",e),removeTokenListener:e=>aI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.5.3");class N1{constructor(){return Y_("app-check")}}"undefined"!=typeof window&&window;var k,hY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ri={},hI=hI||{},q=hY||self;function Th(){}function fI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function uc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var pI="closure_uid_"+(1e9*Math.random()>>>0),pY=0;function gY(t,e,n){return t.call.apply(t.bind,arguments)}function mY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function It(t,e,n){return(It=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gY:mY).apply(null,arguments)}function Dh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xi(){this.s=this.s,this.o=this.o}var _Y={};xi.prototype.s=!1,xi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,pI)&&t[pI]||(t[pI]=++pY)}(this);delete _Y[t]}},xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const R1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},M1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function P1(t){return Array.prototype.concat.apply([],arguments)}function gI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ch(t){return/^[\s\xa0]*$/.test(t)}var Jt,O1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Yt(t,e){return-1!=t.indexOf(e)}function mI(t,e){return t<e?-1:t>e?1:0}e:{var F1=q.navigator;if(F1){var L1=F1.userAgent;if(L1){Jt=L1;break e}}Jt=""}function yI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function V1(t){const e={};for(const n in t)e[n]=t[n];return e}var B1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<B1.length;s++)n=B1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _I(t){return _I[" "](t),t}_I[" "]=Th;var Ah,IY=Yt(Jt,"Opera"),ea=Yt(Jt,"Trident")||Yt(Jt,"MSIE"),U1=Yt(Jt,"Edge"),vI=U1||ea,$1=Yt(Jt,"Gecko")&&!(Yt(Jt.toLowerCase(),"webkit")&&!Yt(Jt,"Edge"))&&!(Yt(Jt,"Trident")||Yt(Jt,"MSIE"))&&!Yt(Jt,"Edge"),wY=Yt(Jt.toLowerCase(),"webkit")&&!Yt(Jt,"Edge");function H1(){var t=q.document;return t?t.documentMode:void 0}e:{var EI="",II=function(){var t=Jt;return $1?/rv:([^\);]+)(\)|;)/.exec(t):U1?/Edge\/([\d\.]+)/.exec(t):ea?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):wY?/WebKit\/(\S+)/.exec(t):IY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(II&&(EI=II?II[1]:""),ea){var wI=H1();if(null!=wI&&wI>parseFloat(EI)){Ah=String(wI);break e}}Ah=EI}var bY={};function TY(){return e=bY,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=O1(String(Ah)).split("."),n=O1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=mI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||mI(0==i[2].length,0==s[2].length)||mI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var DY=q.document&&ea&&(H1()||parseInt(Ah,10))||void 0,CY=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{q.addEventListener("test",Th,e),q.removeEventListener("test",Th,e)}catch(n){}return t}();function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function cc(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($1){e:{try{_I(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:AY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cc.Z.h.call(this)}}Pt.prototype.h=function(){this.defaultPrevented=!0},wt(cc,Pt);var AY={2:"touch",3:"pen",4:"mouse"};cc.prototype.h=function(){cc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lc="closure_listenable_"+(1e6*Math.random()|0),SY=0;function xY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++SY,this.ca=this.fa=!1}function Sh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function xh(t){this.src=t,this.g={},this.h=0}function TI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=R1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function DI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}xh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=DI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new xY(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var CI="closure_lm_"+(1e6*Math.random()|0),AI={};function q1(t,e,n,r,i){if(r&&r.once)return z1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)q1(t,e[s],n,r,i);return null}return n=NI(n),t&&t[lc]?t.N(e,n,uc(r)?!!r.capture:!!r,i):W1(t,e,n,!1,r,i)}function W1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=uc(i)?!!i.capture:!!i,a=xI(t);if(a||(t[CI]=a=new xh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=NY;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)CY||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Q1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function z1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)z1(t,e[s],n,r,i);return null}return n=NI(n),t&&t[lc]?t.O(e,n,uc(r)?!!r.capture:!!r,i):W1(t,e,n,!0,r,i)}function K1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)K1(t,e[s],n,r,i);else r=uc(r)?!!r.capture:!!r,n=NI(n),t&&t[lc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=DI(s=t.g[e],n,r,i))&&(Sh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=xI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=DI(e,n,r,i)),(n=-1<t?e[t]:null)&&SI(n))}function SI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[lc])TI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Q1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xI(e))?(TI(n,t),0==n.h&&(n.src=null,e[CI]=null)):Sh(t)}}}function Q1(t){return t in AI?AI[t]:AI[t]="on"+t}function NY(t,e){if(t.ca)t=!0;else{e=new cc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&SI(t),t=n.call(r,e)}return t}function xI(t){return(t=t[CI])instanceof xh?t:null}var kI="__closure_events_fn_"+(1e9*Math.random()>>>0);function NI(t){return"function"==typeof t?t:(t[kI]||(t[kI]=function(e){return t.handleEvent(e)}),t[kI])}function ft(){xi.call(this),this.i=new xh(this),this.P=this,this.I=null}function bt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;j1(e=new Pt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kh(o,r,!0,e)&&i}if(i=kh(o=e.g=t,r,!0,e)&&i,i=kh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=kh(o=e.g=n[s],r,!1,e)&&i}function kh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&TI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wt(ft,xi),ft.prototype[lc]=!0,ft.prototype.removeEventListener=function(t,e,n,r){K1(this,t,e,n,r)},ft.prototype.M=function(){if(ft.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sh(n[r]);delete t.g[e],t.h--}}this.I=null},ft.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var RI=q.JSON.stringify;function RY(){var t=J1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var PI,Y1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new PY,t=>t.reset());class PY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function OY(t){q.setTimeout(()=>{throw t},0)}function MI(t,e){PI||function(){var t=q.Promise.resolve(void 0);PI=function(){t.then(LY)}}(),OI||(PI(),OI=!0),J1.add(t,e)}var OI=!1,J1=new class{constructor(){this.h=this.g=null}add(e,n){const r=Y1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function LY(){for(var t;t=RY();){try{t.h.call(t.g)}catch(n){OY(n)}var e=Y1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}OI=!1}function Nh(t,e){ft.call(this),this.h=t||1,this.g=e||q,this.j=It(this.kb,this),this.l=Date.now()}function FI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function LI(t,e,n){if("function"==typeof t)n&&(t=It(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=It(t.handleEvent,t)}return 2147483647<Number(e)?-1:q.setTimeout(t,e||0)}function X1(t){t.g=LI(()=>{t.g=null,t.i&&(t.i=!1,X1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wt(Nh,ft),(k=Nh.prototype).da=!1,k.S=null,k.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bt(this,"tick"),this.da&&(FI(this),this.start()))}},k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){Nh.Z.M.call(this),FI(this),delete this.g};class VY extends xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X1(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dc(t){xi.call(this),this.h=t,this.g={}}wt(dc,xi);var Z1=[];function eM(t,e,n,r){Array.isArray(n)||(n&&(Z1[0]=n.toString()),n=Z1);for(var i=0;i<n.length;i++){var s=q1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tM(t){yI(t.g,function(e,n){this.g.hasOwnProperty(n)&&SI(e)},t),t.g={}}function Rh(){this.g=!0}function ta(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return RI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}dc.prototype.M=function(){dc.Z.M.call(this),tM(this)},dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rh.prototype.Aa=function(){this.g=!1},Rh.prototype.info=function(){};var ws={},nM=null;function Mh(){return nM=nM||new ft}function rM(t){Pt.call(this,ws.Ma,t)}function hc(t){const e=Mh();bt(e,new rM(e,t))}function iM(t,e){Pt.call(this,ws.STAT_EVENT,t),this.stat=e}function Xt(t){const e=Mh();bt(e,new iM(e,t))}function sM(t,e){Pt.call(this,ws.Na,t),this.size=e}function fc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){t()},e)}ws.Ma="serverreachability",wt(rM,Pt),ws.STAT_EVENT="statevent",wt(iM,Pt),ws.Na="timingevent",wt(sM,Pt);var Ph={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function VI(){}function uM(){}VI.prototype.h=null;var UI,pc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function BI(){Pt.call(this,"d")}function jI(){Pt.call(this,"c")}function Oh(){}function gc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new dc(this),this.P=HY,this.W=new Nh(t=vI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cM}function cM(){this.i=null,this.g="",this.h=!1}wt(BI,Pt),wt(jI,Pt),wt(Oh,VI),Oh.prototype.g=function(){return new XMLHttpRequest},Oh.prototype.i=function(){return{}},UI=new Oh;var HY=45e3,$I={},Fh={};function HI(t,e,n){t.K=1,t.v=Uh(ii(e)),t.s=n,t.U=!0,lM(t,null)}function lM(t,e){t.F=Date.now(),mc(t),t.A=ii(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),vM(n.h,"t",r),t.C=0,n=t.l.H,t.h=new cM,t.g=$M(t.l,n?e:null,!t.s),0<t.O&&(t.L=new VY(It(t.Ia,t,t.g),t.O)),eM(t.V,t.g,"readystatechange",t.gb),e=t.H?V1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),hc(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function dM(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function hM(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=GY(t,n),i==Fh){4==e&&(t.o=4,Xt(14),r=!1),ta(t.j,t.m,null,"[Incomplete Response]");break}if(i==$I){t.o=4,Xt(15),ta(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ta(t.j,t.m,i,null),GI(t,i)}dM(t)&&i!=Fh&&i!=$I&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),tw(e),e.L=!0,Xt(11))):(ta(t.j,t.m,n,"[Invalid Chunked Response]"),bs(t),yc(t))}function GY(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Fh:(n=Number(e.substring(n,r)),isNaN(n)?$I:(r+=1)+n>e.length?Fh:(e=e.substr(r,n),t.C=r+n,e))}function mc(t){t.Y=Date.now()+t.P,fM(t,t.P)}function fM(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=fc(It(t.eb,t),e)}function Lh(t){t.B&&(q.clearTimeout(t.B),t.B=null)}function yc(t){0==t.l.G||t.I||VM(t.l,t)}function bs(t){Lh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,FI(t.W),tM(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function GI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||zI(n.i,t)))if(n.I=t.N,!t.J&&zI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=fc(It(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;zh(n),qh(n)}ew(n),Xt(18)}if(1>=wM(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Cs(n,11)}else if((t.J||n.g==t)&&zh(n),!Ch(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Yt(p,"spdy")||Yt(p,"quic")||Yt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(KI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Se(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=UM(r,r.H?r.la:null,r.W),o.J){bM(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Lh(a),mc(a)),r.g=o}else FM(r);0<n.l.length&&Wh(n)}else"stop"!=c[0]&&"close"!=c[0]||Cs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Cs(n,7):XI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}hc(4)}catch(c){}}function qI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(fI(t)||"string"==typeof t)M1(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(fI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(fI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function na(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof na)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function WI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ts(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ts(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(k=gc.prototype).setTimeout=function(t){this.P=t},k.gb=function(t){t=t.target;const e=this.L;e&&3==si(t)?e.l():this.Ia(t)},k.Ia=function(t){try{if(t==this.g)e:{const l=si(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||vI||this.g&&(this.h.h||this.g.ga()||NM(this.g)))){this.I||4!=l||7==e||hc(8==e||0>=d?3:2),Lh(this);var n=this.g.ba();this.N=n;t:if(dM(this)){var r=NM(this.g);t="";var i=r.length,s=4==si(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bs(this),yc(this);var o="";break t}this.h.i=new q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ch(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xt(12),bs(this),yc(this);break e}ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GI(this,n)}this.U?(hM(this,l,o),vI&&this.i&&3==l&&(eM(this.V,this.W,"tick",this.fb),this.W.start())):(ta(this.j,this.m,o,null),GI(this,o)),4==l&&bs(this),this.i&&!this.I&&(4==l?VM(this.l,this):(this.i=!1,mc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),bs(this),yc(this)}}}catch(l){}},k.fb=function(){if(this.g){var t=si(this.g),e=this.g.ga();this.C<e.length&&(Lh(this),hM(this,t,e),this.i&&4!=t&&mc(this))}},k.cancel=function(){this.I=!0,bs(this)},k.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(hc(3),Xt(17)),bs(this),this.o=2,yc(this)):fM(this,this.Y-t)},(k=na.prototype).R=function(){WI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},k.T=function(){return WI(this),this.g.concat()},k.get=function(t,e){return Ts(this.h,t)?this.h[t]:e},k.set=function(t,e){Ts(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},k.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var pM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ds(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ds){this.g=void 0!==e?e:t.g,Vh(this,t.j),this.s=t.s,Bh(this,t.i),jh(this,t.m),this.l=t.l,e=t.h;var n=new Ec;n.i=e.i,e.g&&(n.g=new na(e.g),n.h=e.h),gM(this,n),this.o=t.o}else t&&(n=String(t).match(pM))?(this.g=!!e,Vh(this,n[1]||"",!0),this.s=_c(n[2]||""),Bh(this,n[3]||"",!0),jh(this,n[4]),this.l=_c(n[5]||"",!0),gM(this,n[6]||"",!0),this.o=_c(n[7]||"")):(this.g=!!e,this.h=new Ec(null,this.g))}function ii(t){return new Ds(t)}function Vh(t,e,n){t.j=n?_c(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bh(t,e,n){t.i=n?_c(e,!0):e}function jh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gM(t,e,n){e instanceof Ec?(t.h=e,function(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yM(this,r),vM(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=vc(e,XY)),t.h=new Ec(e,t.g))}function Se(t,e,n){t.h.set(e,n)}function Uh(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _c(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,QY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QY(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ds.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vc(e,mM,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(vc(e,mM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(vc(n,"/"==n.charAt(0)?JY:YY,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vc(n,ZY)),t.join("")};var mM=/[#\/\?@]/g,YY=/[#\?:]/g,JY=/[#\?]/g,XY=/[#\?@]/g,ZY=/#/g;function Ec(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new na,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yM(t,e){ki(t),e=ra(t,e),Ts(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ts((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&WI(t)))}function _M(t,e){return ki(t),e=ra(t,e),Ts(t.g.h,e)}function vM(t,e,n){yM(t,e),0<n.length&&(t.i=null,t.g.set(ra(t,e),gI(n)),t.h+=n.length)}function ra(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EM(t){this.l=t||nJ,t=q.PerformanceNavigationTiming?0<(t=q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(q.g&&q.g.Ea&&q.g.Ea()&&q.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Ec.prototype).add=function(t,e){ki(this),this.i=null,t=ra(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){M1(n,function(i){t.call(e,i,r,this)},this)},this)},k.T=function(){ki(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},k.R=function(t){ki(this);var e=[];if("string"==typeof t)_M(this,t)&&(e=P1(e,this.g.get(ra(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=P1(e,t[n])}return e},k.set=function(t,e){return ki(this),this.i=null,_M(this,t=ra(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var nJ=10;function IM(t){return!!t.h||!!t.g&&t.g.size>=t.j}function wM(t){return t.h?1:t.g?t.g.size:0}function zI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function KI(t,e){t.g?t.g.add(e):t.h=e}function bM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function TM(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return gI(t.i)}function QI(){}function rJ(){this.g=new QI}function iJ(t,e,n){const r=n||"";try{qI(t,function(i,s){let o=i;uc(i)&&(o=RI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $h(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Ic(t){this.l=t.$b||null,this.j=t.ib||!1}function Hh(t,e){ft.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=YI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}EM.prototype.cancel=function(){if(this.i=TM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},QI.prototype.stringify=function(t){return q.JSON.stringify(t,void 0)},QI.prototype.parse=function(t){return q.JSON.parse(t,void 0)},wt(Ic,VI),Ic.prototype.g=function(){return new Hh(this.l,this.j)},Ic.prototype.i=function(t){return function(){return t}}({}),wt(Hh,ft);var YI=0;function DM(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function wc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bc(t)}function bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=Hh.prototype).open=function(t,e){if(this.readyState!=YI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bc(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wc(this)),this.readyState=YI},k.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==q.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DM(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},k.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wc(this):bc(this),3==this.readyState&&DM(this)}},k.Ua=function(t){this.g&&(this.response=this.responseText=t,wc(this))},k.Ta=function(t){this.g&&(this.response=t,wc(this))},k.ha=function(){this.g&&wc(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Hh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var oJ=q.JSON.parse;function Ke(t){ft.call(this),this.headers=new na,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=CM,this.K=this.L=!1}wt(Ke,ft);var CM="",aJ=/^https?$/i,uJ=["POST","PUT"];function lJ(t){return"content-type"==t.toLowerCase()}function AM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,SM(t),Gh(t)}function SM(t){t.D||(t.D=!0,bt(t,"complete"),bt(t,"error"))}function xM(t){if(t.h&&void 0!==hI&&(!t.C[1]||4!=si(t)||2!=t.ba()))if(t.v&&4==si(t))LI(t.Fa,0,t);else if(bt(t,"readystatechange"),4==si(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(pM)[1]||null;if(!i&&q.self&&q.self.location){var s=q.self.location.protocol;i=s.substr(0,s.length-1)}r=!aJ.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var o=2<si(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",SM(t)}}finally{Gh(t)}}}function Gh(t,e){if(t.g){kM(t);const n=t.g,r=t.C[0]?Th:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function kM(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(q.clearTimeout(t.A),t.A=null)}function si(t){return t.g?t.g.readyState:0}function NM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case CM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function JI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return yI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Se(t,e,n))}function Tc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function RM(t){this.za=0,this.l=[],this.h=new Rh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tc("baseRetryDelayMs",5e3,t),this.$a=Tc("retryDelaySeedMs",1e4,t),this.Ya=Tc("forwardChannelMaxRetries",2,t),this.ra=Tc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new EM(t&&t.concurrentRequestLimit),this.Ca=new rJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function XI(t){if(MM(t),3==t.G){var e=t.V++,n=ii(t.F);Se(n,"SID",t.J),Se(n,"RID",e),Se(n,"TYPE","terminate"),Dc(t,n),(e=new gc(t,t.h,e,void 0)).K=2,e.v=Uh(ii(n)),n=!1,q.navigator&&q.navigator.sendBeacon&&(n=q.navigator.sendBeacon(e.v.toString(),"")),!n&&q.Image&&((new Image).src=e.v,n=!0),n||(e.g=$M(e.l,null),e.g.ea(e.v)),e.F=Date.now(),mc(e)}jM(t)}function qh(t){t.g&&(tw(t),t.g.cancel(),t.g=null)}function MM(t){qh(t),t.u&&(q.clearTimeout(t.u),t.u=null),zh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&q.clearTimeout(t.m),t.m=null)}function ZI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Wh(t)}function Wh(t){IM(t.i)||t.m||(t.m=!0,MI(t.Ha,t),t.C=0)}function PM(t,e){var n;n=e?e.m:t.V++;const r=ii(t.F);Se(r,"SID",t.J),Se(r,"RID",n),Se(r,"AID",t.U),Dc(t,r),t.o&&t.s&&JI(r,t.o,t.s),n=new gc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=OM(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),KI(t.i,n),HI(n,r,e)}function Dc(t,e){t.j&&qI({},function(n,r){Se(e,r,n)})}function OM(t,e,n){n=Math.min(t.l.length,n);var r=t.j?It(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{iJ(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function FM(t){t.g||t.u||(t.Y=1,MI(t.Ga,t),t.A=0)}function ew(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=fc(It(t.Ga,t),BM(t,t.A)),t.A++,0))}function tw(t){null!=t.B&&(q.clearTimeout(t.B),t.B=null)}function LM(t){t.g=new gc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ii(t.oa);Se(e,"RID","rpc"),Se(e,"SID",t.J),Se(e,"CI",t.N?"0":"1"),Se(e,"AID",t.U),Dc(t,e),Se(e,"TYPE","xmlhttp"),t.o&&t.s&&JI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Uh(ii(e)),n.s=null,n.U=!0,lM(n,t)}function zh(t){null!=t.v&&(q.clearTimeout(t.v),t.v=null)}function VM(t,e){var n=null;if(t.g==e){zh(t),tw(t),t.g=null;var r=2}else{if(!zI(t.i,e))return;n=e.D,bM(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;bt(r=Mh(),new sM(r,n,e,i)),Wh(t)}else FM(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wM(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=fc(It(t.Ha,t,e),BM(t,t.C)),t.C++,0)))}(t,e)||2==r&&ew(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}function BM(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Cs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=It(t.jb,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Vh(n,"https"),Uh(n)),function(t,e){const n=new Rh;if(q.Image){const r=new Image;r.onload=Dh($h,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Dh($h,n,r,"TestLoadImage: error",!1,e),r.onabort=Dh($h,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dh($h,n,r,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.G=0,t.j&&t.j.va(e),jM(t),MM(t)}function jM(t){t.G=0,t.I=-1,t.j&&((0!=TM(t.i).length||0!=t.l.length)&&(t.i.i.length=0,gI(t.l),t.l.length=0),t.j.ua())}function UM(t,e,n){let r=function(t){return t instanceof Ds?ii(t):new Ds(t,void 0)}(n);if(""!=r.i)e&&Bh(r,e+"."+r.i),jh(r,r.m);else{const i=q.location;r=function(t,e,n,r){var i=new Ds(null,void 0);return t&&Vh(i,t),e&&Bh(i,e),n&&jh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&yI(t.aa,function(i,s){Se(r,s,i)}),n=t.sa,(e=t.D)&&n&&Se(r,e,n),Se(r,"VER",t.ma),Dc(t,r),r}function $M(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ke(n&&t.Ba&&!t.qa?new Ic({ib:!0}):t.qa)).L=t.H,e}function HM(){}function Kh(){if(ea&&!(10<=Number(DY)))throw Error("Environmental error: no available transport.")}function bn(t,e){ft.call(this),this.g=new RM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ch(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ch(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ia(this)}function GM(t){BI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function qM(){jI.call(this),this.status=1}function ia(t){this.g=t}(k=Ke.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():UI.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:UI),this.g.onreadystatechange=It(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void AM(this,s)}t=n||"";const i=new na(this.headers);r&&qI(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=lJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=q.FormData&&t instanceof q.FormData,!(0<=R1(uJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kM(this),0<this.B&&((this.K=function(t){return ea&&TY()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=It(this.pa,this)):this.A=LI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AM(this,s)}},k.pa=function(){void 0!==hI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),Gh(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gh(this,!0)),Ke.Z.M.call(this)},k.Fa=function(){this.s||(this.F||this.v||this.l?xM(this):this.cb())},k.cb=function(){xM(this)},k.ba=function(){try{return 2<si(this)?this.g.status:-1}catch(t){return-1}},k.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},k.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),oJ(e)}},k.Da=function(){return this.m},k.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=RM.prototype).ma=8,k.G=1,k.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},k.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new gc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=V1(s),j1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OM(this,i,e),Se(n=ii(this.F),"RID",t),Se(n,"CVER",22),this.D&&Se(n,"X-HTTP-Session-Id",this.D),Dc(this,n),this.o&&s&&JI(n,this.o,s),KI(this.i,i),this.Ra&&Se(n,"TYPE","init"),this.ja?(Se(n,"$req",e),Se(n,"SID","null"),i.$=!0,HI(i,n,null)):HI(i,n,e),this.G=2}}else 3==this.G&&(t?PM(this,t):0==this.l.length||IM(this.i)||PM(this))},k.Ga=function(){if(this.u=null,LM(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=fc(It(this.bb,this),t)}},k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xt(10),qh(this),LM(this))},k.ab=function(){null!=this.v&&(this.v=null,qh(this),ew(this),Xt(19))},k.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Xt(2)):(this.h.info("Failed to ping google.com"),Xt(1))},(k=HM.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Oa=function(){},Kh.prototype.g=function(t,e){return new bn(t,e)},wt(bn,ft),bn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),MI(It(t.hb,t,e))),Xt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=UM(t,null,t.W),Wh(t)},bn.prototype.close=function(){XI(this.g)},bn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,ZI(this.g,e)}else this.v?((e={}).__data__=RI(t),ZI(this.g,e)):ZI(this.g,t)},bn.prototype.M=function(){this.g.j=null,delete this.j,XI(this.g),delete this.g,bn.Z.M.call(this)},wt(GM,BI),wt(qM,jI),wt(ia,HM),ia.prototype.xa=function(){bt(this.g,"a")},ia.prototype.wa=function(t){bt(this.g,new GM(t))},ia.prototype.va=function(t){bt(this.g,new qM(t))},ia.prototype.ua=function(){bt(this.g,"b")},Kh.prototype.createWebChannel=Kh.prototype.g,bn.prototype.send=bn.prototype.u,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Ph.NO_ERROR=0,Ph.TIMEOUT=8,Ph.HTTP_ERROR=6,oM.COMPLETE="complete",uM.EventType=pc,pc.OPEN="a",pc.CLOSE="b",pc.ERROR="c",pc.MESSAGE="d",ft.prototype.listen=ft.prototype.N,Ke.prototype.listenOnce=Ke.prototype.O,Ke.prototype.getLastError=Ke.prototype.La,Ke.prototype.getLastErrorCode=Ke.prototype.Da,Ke.prototype.getStatus=Ke.prototype.ba,Ke.prototype.getResponseJson=Ke.prototype.Qa,Ke.prototype.getResponseText=Ke.prototype.ga,Ke.prototype.send=Ke.prototype.ea;var fJ=ri.createWebChannelTransport=function(){return new Kh},pJ=ri.getStatEventTarget=function(){return Mh()},nw=ri.ErrorCode=Ph,gJ=ri.EventType=oM,mJ=ri.Event=ws,WM=ri.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yJ=ri.FetchXmlHttpFactory=Ic,Qh=ri.WebChannel=uM,_J=ri.XhrIo=Ke;const zM="@firebase/firestore";class Tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");let sa="9.6.3";const Ni=new qo("@firebase/firestore");function rw(){return Ni.logLevel}function T(t,...e){if(Ni.logLevel<=oe.DEBUG){const n=e.map(iw);Ni.debug(`Firestore (${sa}): ${t}`,...n)}}function Qe(t,...e){if(Ni.logLevel<=oe.ERROR){const n=e.map(iw);Ni.error(`Firestore (${sa}): ${t}`,...n)}}function Yh(t,...e){if(Ni.logLevel<=oe.WARN){const n=e.map(iw);Ni.warn(`Firestore (${sa}): ${t}`,...n)}}function iw(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function M(t="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+t;throw Qe(e),new Error(e)}function B(t,e){t||M()}function C(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class KM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class IJ{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new KM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Tt(e)}}class wJ{constructor(e,n,r){this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class bJ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new wJ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),new QM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Tn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function DJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Tn.I=-1;function ne(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Dt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function XM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class Cc{constructor(e,n,r){void 0===n?n=0:n>e.length&&M(),void 0===r?r=e.length-n:r>e.length-n&&M(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Cc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Cc{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const CJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Cc{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return CJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ot(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const AJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(B(!!t),"string"==typeof t){let e=0;const n=AJ.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ua(t){return"string"==typeof t?ot.fromBase64String(t):ot.fromUint8Array(t)}function sw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eP(t){const e=t.mapValue.fields.__previous_value__;return sw(e)?eP(e):e}function Ac(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}function Ss(t){return null==t}function Jh(t){return 0===t&&1/t==-1/0}class R{constructor(e){this.path=e}static fromPath(e){return new R(he.fromString(e))}static fromName(e){return new R(he.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new he(e.slice()))}}function xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sw(t)?4:10:M()}function Nr(t,e){if(t===e)return!0;const n=xs(t);if(n!==xs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ac(t).isEqual(Ac(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ri(r.timestampValue),o=Ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ua(t.bytesValue).isEqual(ua(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ye(r.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(r.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ye(r.integerValue)===Ye(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ye(r.doubleValue),o=Ye(i.doubleValue);return s===o?Jh(s)===Jh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(XM(s)!==XM(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Nr(s[a],o[a])))return!1;return!0}(t,e);default:return M()}var i}function Sc(t,e){return void 0!==(t.values||[]).find(n=>Nr(n,e))}function ca(t,e){if(t===e)return 0;const n=xs(t),r=xs(e);if(n!==r)return ne(n,r);switch(n){case 0:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ye(i.integerValue||i.doubleValue),a=Ye(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return nP(t.timestampValue,e.timestampValue);case 4:return nP(Ac(t),Ac(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ua(i),a=ua(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(Ye(i.latitude),Ye(s.latitude));return 0!==o?o:ne(Ye(i.longitude),Ye(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ca(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=ca(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw M()}}function nP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=Ri(t),r=Ri(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function ow(t){return aw(t)}function aw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ri(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ua(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=aw(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${aw(r.fields[a])}`;return s+"}"}(t.mapValue):M();var e}function uw(t){return!!t&&"integerValue"in t}function cw(t){return!!t&&"arrayValue"in t}function rP(t){return!!t&&"nullValue"in t}function iP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(xc(this.value))}}class xe{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new xe(e,0,z.min(),Ft.empty(),0)}static newFoundDocument(e,n,r){return new xe(e,1,n,r,0)}static newNoDocument(e,n){return new xe(e,2,n,Ft.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,Ft.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class SJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function oP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new SJ(t,e,n,r,i,s,o)}function kc(t){const e=C(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+ow(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ss(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=nf(e.startAt)),e.endAt&&(n+="|ub:",n+=nf(e.endAt)),e.R=n}return e.R}function ef(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!VJ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Nr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cP(t.startAt,e.startAt)&&cP(t.endAt,e.endAt)}function tf(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Zt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new NJ(e,n,r):"array-contains"===n?new PJ(e,r):"in"===n?new OJ(e,r):"not-in"===n?new FJ(e,r):"array-contains-any"===n?new LJ(e,r):new Zt(e,n,r)}static P(e,n,r){return"in"===n?new RJ(e,r):new MJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(ca(n,this.value)):null!==n&&xs(this.value)===xs(n)&&this.v(ca(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return M()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NJ extends Zt{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.v(n)}}class RJ extends Zt{constructor(e,n){super(e,"in",n),this.keys=aP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MJ extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=aP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class PJ extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cw(n)&&Sc(n.arrayValue,this.value)}}class OJ extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Sc(this.value.arrayValue,n)}}class FJ extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Sc(this.value.arrayValue,n)}}class LJ extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}class Nc{constructor(e,n){this.position=e,this.before=n}}function nf(t){return`${t.before?"b":"a"}:${t.position.map(e=>ow(e)).join(",")}`}class la{constructor(e,n="asc"){this.field=e,this.dir=n}}function VJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function uP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):ca(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function cP(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}class oi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function da(t){return new oi(t)}function rf(t){return!Ss(t.limit)&&"F"===t.limitType}function sf(t){return!Ss(t.limit)&&"L"===t.limitType}function ha(t){const e=C(t);if(null===e.S){e.S=[];const n=function(t){for(const e of t.filters)if(e.V())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new la(n)),e.S.push(new la(Ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new la(Ot.keyField(),s))}}}return e.S}function Hn(t){const e=C(t);if(!e.D)if("F"===e.limitType)e.D=oP(e.path,e.collectionGroup,ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ha(e))n.push(new la(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Nc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Nc(e.startAt.position,!e.startAt.before):null;e.D=oP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function Rc(t,e){return ef(Hn(t),Hn(e))&&t.limitType===e.limitType}function hP(t){return`${kc(Hn(t))}|lt:${t.limitType}`}function fw(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ow(r.value)}`;var r}).join(", ")}]`),Ss(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+nf(t.startAt)),t.endAt&&(e+=", endAt: "+nf(t.endAt)),`Target(${e})`}(Hn(t))}; limitType=${t.limitType})`}function Mc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!uP(n.startAt,ha(n),r)||n.endAt&&uP(n.endAt,ha(n),r)));var n,r}function fP(t){return(e,n)=>{let r=!1;for(const i of ha(t)){const s=BJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function BJ(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ca(a,u):M()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return M()}}class of{constructor(){this._=void 0}}function jJ(t,e,n){return t instanceof fa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ks?_P(t,e):t instanceof Ns?vP(t,e):function(r,i){const s=function(t,e){return t instanceof pa?uw(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=EP(s)+EP(r.N);return uw(s)&&uw(r.N)?function(t){return{integerValue:""+t}}(o):function(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}(r.k,o)}(t,e)}function UJ(t,e,n){return t instanceof ks?_P(t,e):t instanceof Ns?vP(t,e):n}class fa extends of{}class ks extends of{constructor(e){super(),this.elements=e}}function _P(t,e){const n=IP(e);for(const r of t.elements)n.some(i=>Nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends of{constructor(e){super(),this.elements=e}}function vP(t,e){let n=IP(e);for(const r of t.elements)n=n.filter(i=>!Nr(i,r));return{arrayValue:{values:n}}}class pa extends of{constructor(e,n){super(),this.k=e,this.N=n}}function EP(t){return Ye(t.integerValue||t.doubleValue)}function IP(t){return cw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function af(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class wP{}function GJ(t,e,n){t instanceof Oc?function(r,i,s){const o=r.value.clone(),a=CP(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(r,i,s){if(!af(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=CP(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(DP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function pw(t,e,n){var i;t instanceof Oc?function(r,i,s){if(!af(r.precondition,i))return;const o=r.value.clone(),a=AP(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(TP(i),o).setHasLocalMutations()}(t,e,n):t instanceof Mi?function(r,i,s){if(!af(r.precondition,i))return;const o=AP(r.fieldTransforms,s,i),a=i.data;a.setAll(DP(r)),a.setAll(o),i.convertToFoundDocument(TP(i),a).setHasLocalMutations()}(t,e,n):af(t.precondition,i=e)&&i.convertToNoDocument(z.min())}function bP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&oa(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ks&&r instanceof ks||n instanceof Ns&&r instanceof Ns?oa(n.elements,r.elements,Nr):n instanceof pa&&r instanceof pa?Nr(n.N,r.N):n instanceof fa&&r instanceof fa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function TP(t){return t.isFoundDocument()?t.version:z.min()}class Oc extends wP{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Mi extends wP{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function DP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CP(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UJ(o,a,n[i]))}return r}function AP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jJ(s,o,e))}return r}class WJ{constructor(e){this.count=e}}var Xe,ae;function xP(t){if(void 0===t)return Qe("GRPC error has no .code"),v.UNKNOWN;switch(t){case Xe.OK:return v.OK;case Xe.CANCELLED:return v.CANCELLED;case Xe.UNKNOWN:return v.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return v.INTERNAL;case Xe.UNAVAILABLE:return v.UNAVAILABLE;case Xe.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Xe.NOT_FOUND:return v.NOT_FOUND;case Xe.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Xe.ABORTED:return v.ABORTED;case Xe.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Xe.DATA_LOSS:return v.DATA_LOSS;default:return M()}}(ae=Xe||(Xe={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";class at{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Ct.RED,this.left=null!=i?i:Ct.EMPTY,this.right=null!=s?s:Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();const e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1,Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kP(this.data.getIterator())}getIteratorFrom(e){return new kP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class kP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const zJ=new at(R.comparator);function Gn(){return zJ}const KJ=new at(R.comparator);function mw(){return KJ}new at(R.comparator);const YJ=new Fe(R.comparator);function me(...t){let e=YJ;for(const n of t)e=e.add(n);return e}const JJ=new Fe(ne);function cf(){return JJ}class Lc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n)),new Lc(z.min(),r,cf(),Gn(),me())}}class Vc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Vc(ot.EMPTY_BYTE_STRING,n,me(),me(),me())}}class lf{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.O=i}}class RP{constructor(e,n){this.targetId=e,this.M=n}}class MP{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PP{constructor(){this.F=0,this.L=FP(),this.B=ot.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=me(),n=me(),r=me();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:M()}}),new Vc(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=FP()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class XJ{constructor(e){this.et=e,this.nt=new Map,this.st=Gn(),this.it=OP(),this.rt=new Fe(ne)}ot(e){for(const n of e.$)e.O&&e.O.isFoundDocument()?this.ct(n,e.O):this.at(n,e.key,e.O);for(const n of e.removedTargetIds)this.at(n,e.key,e.O)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:M()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.M.count,i=this.wt(n);if(i){const s=i.target;if(tf(s))if(0===r){const o=new R(s.path);this.at(n,o,xe.newNoDocument(o,z.min()))}else B(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&tf(a.target)){const u=new R(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.at(o,u,xe.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=me();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Lc(e,n,this.rt,this.st,r);return this.st=Gn(),this.it=OP(),this.rt=new Fe(ne),i}ct(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}at(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new PP,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Fe(ne),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new PP),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function OP(){return new at(R.comparator)}function FP(){return new at(R.comparator)}const ZJ={asc:"ASCENDING",desc:"DESCENDING"},eX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tX{constructor(e,n){this.databaseId=e,this.C=n}}function gt(t){return B(!!t),z.fromTimestamp(function(e){const n=Ri(e);return new Dt(n.seconds,n.nanos)}(t))}function VP(t){const e=he.fromString(t);return B(YP(e)),e}function Rr(t,e){const n=VP(e);if(n.get(1)!==t.databaseId.projectId)throw new b(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(jP(n))}function _w(t,e){return function(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Uc(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jP(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function GP(t,e){return{documents:[_w(t,e.path)]}}function qP(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_w(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_w(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(iP(l.value))return{unaryFilter:{field:ga(l.field),op:"IS_NAN"}};if(rP(l.value))return{unaryFilter:{field:ga(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(iP(l.value))return{unaryFilter:{field:ga(l.field),op:"IS_NOT_NAN"}};if(rP(l.value))return{unaryFilter:{field:ga(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(l.field),op:uX(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:ga((c=u).field),direction:aX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||Ss(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=KP(e.startAt)),e.endAt&&(n.structuredQuery.endAt=KP(e.endAt)),n}function WP(t){let e=function(t){const e=VP(t);return 4===e.length?he.emptyPath():jP(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=zP(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new la(ma((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ss(d)?null:d}(n.limit));let u=null;n.startAt&&(u=QP(n.startAt));let c=null;return n.endAt&&(c=QP(n.endAt)),function(t,e,n,r,i,s,o,a){return new oi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function zP(t){return t?void 0!==t.unaryFilter?[lX(t)]:void 0!==t.fieldFilter?[cX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>zP(e)).reduce((e,n)=>e.concat(n)):M():[]}function KP(t){return{before:t.before,values:t.position}}function QP(t){return new Nc(t.values||[],!!t.before)}function aX(t){return ZJ[t]}function uX(t){return eX[t]}function ga(t){return{fieldPath:t.canonicalString()}}function ma(t){return Ot.fromServerFormat(t.fieldPath)}function cX(t){return Zt.create(ma(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(t.fieldFilter.op),t.fieldFilter.value)}function lX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ma(t.unaryFilter.field);return Zt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ma(t.unaryFilter.field);return Zt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ma(t.unaryFilter.field);return Zt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ma(t.unaryFilter.field);return Zt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return M()}}function YP(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function dr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JP(e)),e=hX(t.get(n),e);return JP(e)}function hX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function JP(t){return t+"\x01\x01"}class Dn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Dn.store="owner",Dn.key="owner";class Pi{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Pi.store="mutationQueues",Pi.keyPath="userId";class De{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}De.store="mutations",De.keyPath="batchId",De.userMutationsIndex="userMutationsIndex",De.userMutationsKeyPath=["userId","batchId"];class Lt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,dr(n)]}static key(e,n,r){return[e,dr(n),r]}}Lt.store="documentMutations",Lt.PLACEHOLDER=new Lt;class Le{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Le.store="remoteDocuments",Le.readTimeIndex="readTimeIndex",Le.readTimeIndexPath="readTime",Le.collectionReadTimeIndex="collectionReadTimeIndex",Le.collectionReadTimeIndexPath=["parentPath","readTime"];class Mr{constructor(e){this.byteSize=e}}Mr.store="remoteDocumentGlobal",Mr.key="remoteDocumentGlobalKey";class un{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}un.store="targets",un.keyPath="targetId",un.queryTargetsIndexName="queryTargetsIndex",un.queryTargetsKeyPath=["canonicalId","targetId"];class At{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}At.store="targetDocuments",At.keyPath=["targetId","path"],At.documentTargetsIndex="documentTargetsIndex",At.documentTargetsKeyPath=["path","targetId"];class Cn{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Cn.key="targetGlobalKey",Cn.store="targetGlobal";class Rs{constructor(e,n){this.collectionId=e,this.parent=n}}Rs.store="collectionParents",Rs.keyPath=["collectionId","parent"];class ui{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}ui.store="clientMetadata",ui.keyPath="clientId";class ya{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}ya.store="bundles",ya.keyPath="bundleId";class _a{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}_a.store="namedQueries",_a.keyPath="name";const XP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ms(t){return"IndexedDbTransactionError"===t.name}class Ew{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GJ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&pw(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&pw(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(z.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>bP(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>bP(n,r))}}class Oi{constructor(e,n,r,i,s=z.min(),o=z.min(),a=ot.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class tO{constructor(e){this.Gt=e}}function Tw(t){const e=WP({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class IX{constructor(){this.zt=new Dw}addToCollectionParentIndex(e,n){return this.zt.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.zt.getEntries(n))}}class Dw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(he.comparator)).toArray()}}class ln{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Os{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Os(0)}static re(){return new Os(-1)}}function Fs(t){return Aw.apply(this,arguments)}function Aw(){return(Aw=y(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==XP)throw t;T("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){As(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}}class mO{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.bn(e,n,r))}bn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Pn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Pn(n,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new R(n)).next(r=>{let i=mw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=mw();return this.Jt.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const u=(c=n,l=a.child(i),new oi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=xe.newInvalidDocument(l),i=i.insert(l,d)),pw(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Mc(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=me();for(const o of n)for(const a of o.mutations)a instanceof Mi&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class Nw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Nw(e,n.fromCache,r,i)}}class yO{On(e){this.Mn=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(z.min())?this.Fn(e,n):this.Mn.vn(e,i).next(s=>{const o=this.Ln(n,s);return(rf(n)||sf(n))&&this.Bn(n.limitType,o,i,r)?this.Fn(e,n):(rw()<=oe.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fw(n)),this.Mn.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new Fe(fP(e));return n.forEach((i,s)=>{Mc(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return rw()<=oe.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",fw(n)),this.Mn.getDocumentsMatchingQuery(e,n,z.min())}}class MX{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new at(ne),this.Kn=new Ta(s=>kc(s),ef),this.jn=z.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new mO(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function vO(t,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=y(function*(t,e){const n=C(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new mO(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=me();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.On(n.Wn),s})).apply(this,arguments)}function EO(t){const e=C(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function OX(t,e){const n=C(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(ot.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,h))});let u=Gn();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=me();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=Gn();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(z.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):T("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(z.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function Da(t,e){const n=C(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new Oi(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function Ca(t,e,n){return Mw.apply(this,arguments)}function Mw(){return(Mw=y(function*(t,e,n){const r=C(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ms(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)})).apply(this,arguments)}function yf(t,e,n){const r=C(t);let i=z.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=C(a),d=l.Kn.get(c);return void 0!==d?I.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:me())).next(a=>({documents:a,zn:s})))}class jX{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return I.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:gt(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:Tw(r.bundledQuery),readTime:gt(r.readTime)}),I.resolve();var r}}class Lw{constructor(){this.ts=new Fe(mt.es),this.ns=new Fe(mt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new mt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new mt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new R(new he([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new R(new he([])),r=new mt(n,e),i=new mt(n,e+1);let s=me();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return R.comparator(e.key,n.key)||ne(e.fs,n.fs)}static ss(e,n){return ne(e.fs,n.fs)||R.comparator(e.key,n.key)}}class UX{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Fe(mt.es)}checkEmpty(e){return I.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new Ew(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new mt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return I.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return I.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(ne);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),I.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new mt(new R(s),0);let a=new Fe(ne);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),I.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return I.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new mt(n,0),i=this.ws.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class $X{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new at(R.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=Gn();const s=new R(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Mc(n,u)&&(i=i.insert(u.key,u.mutableCopy()))}return I.resolve(i)}Es(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HX(this)}getSize(e){return I.resolve(this.size)}}class HX extends class{constructor(){this.changes=new Ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:z.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:xe.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class GX{constructor(e){this.persistence=e,this.Is=new Ta(n=>kc(n),ef),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.As=0,this.Rs=new Lw,this.targetCount=0,this.bs=Os.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),I.resolve()}ae(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ae(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.ae(n),I.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Rs.containsKey(n))}}class qX{constructor(e,n){this.Ps={},this.Be=new Tn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new GX(this),this.Jt=new IX,this.Je=new $X(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new tO(n),this.Ye=new jX(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.Ps[e.toKey()];return n||(n=new UX(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new WX(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return I.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class WX extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Cs=new Lw,this.Ns=null}static ks(e){return new Vw(e)}get xs(){if(this.Ns)return this.Ns;throw M()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),I.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.xs,r=>{const i=R.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return I.or([()=>I.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class Uw{constructor(){this.activeTargetIds=cf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.pi=new Uw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Uw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class zX{Ei(e){}shutdown(){}}class AO{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const KX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class QX{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class YX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Yh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Fi}/v1/${n}:${KX[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new _J;a.listenOnce(gJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nw.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case nw.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new b(v.DEADLINE_EXCEEDED,"Request time out"));break;case nw.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new b(h,d.message))}else o(new b(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(v.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fJ(),o=pJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new yJ({})),this.qi(a.initMessageHeaders,n,r),zk()||Kk()||In().indexOf("Electron/")>=0||function(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||In().indexOf("MSAppHost/")>=0||jd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new QX({Vi:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,m,g)=>{p.listen(m,E=>{try{g(E)}catch(_){setTimeout(()=>{throw _},0)}})};return f(c,Qh.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Qh.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.Oi())}),f(c,Qh.EventType.ERROR,p=>{d||(d=!0,Yh("Connection","WebChannel transport errored:",p),h.Oi(new b(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,Qh.EventType.MESSAGE,p=>{var m;if(!d){const g=p.data[0];B(!!g);const E=g,_=E.error||(null===(m=E[0])||void 0===m?void 0:m.error);if(_){T("Connection","WebChannel received error:",_);const A=_.status;let N=function(Ce){const _t=Xe[Ce];if(void 0!==_t)return xP(_t)}(A),j=_.message;void 0===N&&(N=v.INTERNAL,j="Unknown error status: "+A+" with message "+_.message),d=!0,h.Oi(new b(N,j)),c.close()}else T("Connection","WebChannel received:",g),h.Mi(g)}}),f(o,mJ.STAT_EVENT,p=>{p.stat===WM.PROXY?T("Connection","Detected buffering proxy"):p.stat===WM.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Ef(){return"undefined"!=typeof document?document:null}function Wc(t){return new tX(t,!0)}class Hw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Me=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class XX extends class{constructor(e,n,r,i,s,o,a,u){this.Me=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Hw(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return y(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return y(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,n){var r=this;return y(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Qe(n.toString()),Qe("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new b(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(y(function*(){e.state=0,e.start()}))}Ar(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Me.enqueueAndForget(()=>this.rr===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:M(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(B(void 0===c||"string"==typeof c),ot.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),ot.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:xP(u.code);return new b(c,u.message||"")}(o);n=new MP(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Rr(t,r.document.name),s=gt(r.document.updateTime),o=new Ft({mapValue:{fields:r.document.fields}}),a=xe.newFoundDocument(i,s,o);n=new lf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Rr(t,r.document),s=r.readTime?gt(r.readTime):z.min(),o=xe.newNoDocument(i,s);n=new lf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Rr(t,r.document);n=new lf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return M();{const r=e.filter,s=new WJ(r.count||0);n=new RP(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?gt(s.readTime):z.min()}(e);return this.listener.br(n,r)}Pr(e){const n={};n.database=Uc(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=tf(a)?{documents:GP(i,a)}:{query:qP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function(t,e){return t.C?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(z.min())>0&&(o.readTime=function(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return M()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=Uc(this.k),n.removeTarget=e,this.gr(n)}}class eZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new b(v.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(v.UNKNOWN,i.toString())})}ji(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(v.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class tZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Qe(n),this.Lr=!1):T("OnlineStateTracker",n)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class nZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(y(function*(){var u;Bi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=C(c);l.Gr.add(4),yield Aa(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield zc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new tZ(r,i)}}function zc(t){return Gw.apply(this,arguments)}function Gw(){return(Gw=y(function*(t){if(Bi(t))for(const e of t.zr)yield e(!0)})).apply(this,arguments)}function Aa(t){return qw.apply(this,arguments)}function qw(){return(qw=y(function*(t){for(const e of t.zr)yield e(!1)})).apply(this,arguments)}function If(t,e){const n=C(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),Kw(n)?zw(n):xa(n).lr()&&Ww(n,e))}function Kc(t,e){const n=C(t),r=xa(n);n.Wr.delete(e),r.lr()&&xO(n,e),0===n.Wr.size&&(r.lr()?r._r():Bi(n)&&n.Jr.set("Unknown"))}function Ww(t,e){t.Yr.X(e.targetId),xa(t).Pr(e)}function xO(t,e){t.Yr.X(e),xa(t).vr(e)}function zw(t){t.Yr=new XJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),xa(t).start(),t.Jr.Br()}function Kw(t){return Bi(t)&&!xa(t).hr()&&t.Wr.size>0}function Bi(t){return 0===C(t).Gr.size}function kO(t){t.Yr=void 0}function rZ(t){return Qw.apply(this,arguments)}function Qw(){return(Qw=y(function*(t){t.Wr.forEach((e,n)=>{Ww(t,e)})})).apply(this,arguments)}function iZ(t,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=y(function*(t,e){kO(t),Kw(t)?(t.Jr.Kr(e),zw(t)):t.Jr.set("Unknown")})).apply(this,arguments)}function sZ(t,e,n){return Jw.apply(this,arguments)}function Jw(){return(Jw=y(function*(t,e,n){if(t.Jr.set("Online"),e instanceof MP&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wf(t,r)}else if(e instanceof lf?t.Yr.ot(e):e instanceof RP?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(z.min()))try{const r=yield EO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(ot.EMPTY_BYTE_STRING,u.snapshotVersion)),xO(i,a);const c=new Oi(u.target,a,1,u.sequenceNumber);Ww(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield wf(t,r)}var r})).apply(this,arguments)}function wf(t,e,n){return Xw.apply(this,arguments)}function Xw(){return(Xw=y(function*(t,e,n){if(!Ms(e))throw e;t.Gr.add(1),yield Aa(t),t.Jr.set("Offline"),n||(n=()=>EO(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield zc(t)}))})).apply(this,arguments)}function sb(){return(sb=y(function*(t,e){const n=C(t);e?(n.Gr.delete(2),yield zc(n)):e||(n.Gr.add(2),yield Aa(n),n.Jr.set("Unknown"))})).apply(this,arguments)}function xa(t){return t.Xr||(t.Xr=function(e,n,r){const i=C(e);return i.Or(),new XX(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:rZ.bind(null,t),Ni:iZ.bind(null,t),br:sZ.bind(null,t)}),t.zr.push(function(){var e=y(function*(n){n?(t.Xr.wr(),Kw(t)?zw(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),kO(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}class ob{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ob(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ka(t,e){if(Qe("AsyncQueue",`${e}: ${t}`),Ms(t))return new b(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=mw(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Na(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class PO{constructor(){this.eo=new at(R.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):M():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ra(e,n,Na.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hZ{constructor(){this.so=void 0,this.listeners=[]}}class fZ{constructor(){this.queries=new Ta(e=>hP(e),Rc),this.onlineState="Unknown",this.io=new Set}}function ub(){return(ub=y(function*(t,e){const n=C(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hZ),i)try{s.so=yield n.onListen(r)}catch(o){const a=ka(o,`Initialization of query '${fw(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&db(n)})).apply(this,arguments)}function lb(){return(lb=y(function*(t,e){const n=C(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function pZ(t,e){const n=C(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&db(n)}function gZ(t,e,n){const r=C(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function db(t){t.io.forEach(e=>{e.next()})}class hb{constructor(e,n,r){this.query=e,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.ao?this.ho(e)&&(this.co.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class LO{constructor(e){this.key=e}}class VO{constructor(e){this.key=e}}class BO{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=me(),this.mutatedKeys=me(),this.Ao=fP(e),this.Ro=new Na(this.Ao)}get bo(){return this.To}Po(e,n){const r=n?n.vo:new PO,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=rf(this.query)&&i.size===this.query.limit?i.last():null,c=sf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Mc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),g=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(u||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),rf(this.query)||sf(this.query))for(;o.size>this.query.limit;){const l=rf(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new Ra(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new PO,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=me(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new VO(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new LO(r))}),n}ko(e){this.To=e.zn,this.Io=me();const n=this.Po(e.documents);return this.applyChanges(n,!0)}xo(){return Ra.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class _Z{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vZ{constructor(e){this.key=e,this.$o=!1}}class EZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Ta(a=>hP(a),Rc),this.Fo=new Map,this.Lo=new Set,this.Bo=new at(R.comparator),this.Uo=new Map,this.qo=new Lw,this.Ko={},this.jo=new Map,this.Qo=Os.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function IZ(t,e){return fb.apply(this,arguments)}function fb(){return(fb=y(function*(t,e){const n=Fb(t);let r,i;const s=n.Mo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Da(n.localStore,Hn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield pb(n,e,r,"current"===a),n.isPrimaryClient&&If(n.remoteStore,o)}return i})).apply(this,arguments)}function pb(t,e,n,r){return gb.apply(this,arguments)}function gb(){return(gb=y(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=y(function*(p,m,g,E){let _=m.view.Po(g);_.Bn&&(_=yield yf(p.localStore,m.query,!1).then(({documents:j})=>m.view.Po(j,_)));const A=E&&E.targetChanges.get(m.targetId),N=m.view.applyChanges(_,p.isPrimaryClient,A);return Db(p,m.targetId,N.Co),N.snapshot}),function(p,m,g,E){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield yf(t.localStore,e,!0),s=new BO(e,i.zn),o=s.Po(i.documents),a=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);Db(t,n,u.Co);const c=new _Z(e,n,s);return t.Mo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot})).apply(this,arguments)}function wZ(t,e){return mb.apply(this,arguments)}function mb(){return(mb=y(function*(t,e){const n=C(t),r=n.Mo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!Rc(s,e))),void n.Mo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ca(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kc(n.remoteStore,r.targetId),Ma(n,r.targetId)}).catch(Fs))):(Ma(n,r.targetId),yield Ca(n.localStore,r.targetId,!0))})).apply(this,arguments)}function jO(t,e){return _b.apply(this,arguments)}function _b(){return(_b=y(function*(t,e){const n=C(t);try{const r=yield OX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?B(o.$o):i.removedDocuments.size>0&&(B(o.$o),o.$o=!1))}),yield ci(n,r,e)}catch(r){yield Fs(r)}})).apply(this,arguments)}function UO(t,e,n){const r=C(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=C(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&db(a)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TZ(t,e,n){return vb.apply(this,arguments)}function vb(){return(vb=y(function*(t,e,n){const r=C(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new at(R.comparator);o=o.insert(s,xe.newNoDocument(s,z.min()));const a=me().add(s),u=new Lc(z.min(),new Map,new Fe(ne),o,a);yield jO(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),Cb(r)}else yield Ca(r.localStore,e,!1).then(()=>Ma(r,e,n)).catch(Fs)})).apply(this,arguments)}function Ma(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Mo.delete(r),n&&t.Oo.zo(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||$O(t,r)})}function $O(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(Kc(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),Cb(t))}function Db(t,e,n){for(const r of n)r instanceof LO?(t.qo.addReference(r.key,e),SZ(t,r)):r instanceof VO?(T("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||$O(t,r.key)):M()}function SZ(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(T("SyncEngine","New document in limbo: "+n),t.Lo.add(r),Cb(t))}function Cb(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new R(he.fromString(e)),r=t.Qo.next();t.Uo.set(r,new vZ(n)),t.Bo=t.Bo.insert(n,r),If(t.remoteStore,new Oi(Hn(da(n.path)),r,2,Tn.I))}}function ci(t,e,n){return Ab.apply(this,arguments)}function Ab(){return(Ab=y(function*(t,e,n){const r=C(t),i=[],s=[],o=[];var a;r.Mo.isEmpty()||(r.Mo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=Nw.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Oo.br(i),yield(a=y(function*(u,c){const l=C(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(c,h=>I.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ms(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function xZ(t,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=y(function*(t,e){const n=C(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield vO(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new b(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ci(n,r.Gn)}var i})).apply(this,arguments)}function kZ(t,e){const n=C(t),r=n.Uo.get(e);if(r&&r.$o)return me().add(r.key);{let i=me();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Mo.get(o);i=i.unionWith(a.view.bo)}return i}}function Fb(t){const e=C(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TZ.bind(null,e),e.Oo.br=pZ.bind(null,e.eventManager),e.Oo.zo=gZ.bind(null,e.eventManager),e}class BZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.k=Wc(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function(t,e,n,r){return new MX(t,e,n,r)}(this.persistence,new yO,e.initialUser,this.k)}Yo(e){return new qX(Vw.ks,this.k)}Jo(e){return new CO}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Vb{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>UO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xZ.bind(null,r.syncEngine),yield function(t,e){return sb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fZ}createDatastore(e){const n=Wc(e.databaseInfo.databaseId),r=new YX(e.databaseInfo);return new eZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>UO(this.syncEngine,a,0),o=AO.Pt()?new AO:new zX,new nZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new EZ(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(n){const r=C(n);T("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Aa(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class bf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class qZ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ka(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function WO(t,e){return Bb.apply(this,arguments)}function Bb(){return(Bb=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield vO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function zO(t,e){return jb.apply(this,arguments)}function jb(){return(jb=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Ub(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=y(function*(o,a){const u=C(o);u.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const c=Bi(u);u.Gr.add(3),yield Aa(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield zc(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e})).apply(this,arguments)}function Ub(t){return $b.apply(this,arguments)}function $b(){return($b=y(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield WO(t,new BZ)),t.offlineComponents})).apply(this,arguments)}function Tf(t){return Hb.apply(this,arguments)}function Hb(){return(Hb=y(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield zO(t,new Vb)),t.onlineComponents})).apply(this,arguments)}function Pa(t){return Wb.apply(this,arguments)}function Wb(){return(Wb=y(function*(t){const e=yield Tf(t),n=e.eventManager;return n.onListen=IZ.bind(null,e.syncEngine),n.onUnlisten=wZ.bind(null,e.syncEngine),n})).apply(this,arguments)}class eee{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}const XO=new Map;function eF(t){if(R.isDocumentKey(t))throw new b(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":M()}(t);throw new b(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class nF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new b(v.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nF({}),this._settingsFrozen=!1,e instanceof Qc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new b(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(i.options.projectId)}(e))}get app(){if(!this._app)throw new b(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new vJ;switch(n.type){case"gapi":const r=n.client;return B(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new bJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new b(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=XO.get(e);n&&(T("ComponentProvider","Removing Datastore"),XO.delete(e),n.terminate())}(this),Promise.resolve()}}class Ue{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}}class Vt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vt(this.firestore,e,this._query)}}class Pr extends Vt{constructor(e,n,r){super(e,n,da(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new R(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function nee(t,e,...n){if(t=Di(t),function(t,e,n){if(!n)throw new b(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Yc){const r=he.fromString(e,...n);return eF(r),new Pr(t,null,r)}{if(!(t instanceof Ue||t instanceof Pr))throw new b(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return eF(r),new Pr(t.firestore,null,r)}}class see{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Hw(this,"async_queue_retry"),this.bc=()=>{const n=Ef();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Ef();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const n=Ef();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const n=new pt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return y(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(n){if(!Ms(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const n=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,Qe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=n,n}enqueueAfterDelay(e,n,r){this.Pc(),this.Rc.indexOf(e)>-1&&(n=0);const i=ob.createAndSchedule(this,e,n,r,s=>this.Sc(s));return this.Tc.push(i),i}Pc(){this.Ec&&M()}verifyOperationInProgress(){}Dc(){var e=this;return y(function*(){let n;do{n=e.mc,yield n}while(n!==e.mc)})()}Cc(e){for(const n of this.Tc)if(n.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const n=this.Tc.indexOf(e);this.Tc.splice(n,1)}}function Kb(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Yc{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new see,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rF(this),this._firestoreClient.terminate()}}function aee(t=eN()){return Gd(t,"firestore").getImmediate()}function rF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new eee(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new qZ(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Oa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(ot.fromBase64String(e))}catch(n){throw new b(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const pee=new RegExp("[~\\*/\\[\\]]");function Af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(v.INVALID_ARGUMENT,a+t+u)}class tT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gee extends tT{data(){return super.data()}}function Sf(t,e){return"string"==typeof e?function(t,e,n){if(e.search(pee)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oa(...e.split("."))._internalPath}catch(r){throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Oa?e._internalPath:e._delegate._internalPath}class Bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends tT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xf extends La{data(e={}){return super.data(e)}}class Va{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xf(this._firestore,this._userDataWriter,r.key,r,new Bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new xf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new xf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:mee(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}class js extends class{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw M()}}convertObject(e,n){const r={};return As(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qb(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);B(YP(r));const i=new Qc(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||Qe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}!function(t,e=!0){sa="9.6.4",rn(new Kt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Re(i,new IJ(n.getProvider("auth-internal")),new TJ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),je(zM,"3.4.3",t),je(zM,"3.4.3","esm2017")}();var bee={includeMetadataChanges:!1};function iT(t,e){return void 0===e&&(e=bee),new ie(function(n){return{unsubscribe:function(t,...e){var n,r,i;t=Di(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Kb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Kb(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ue)c=ce(t.firestore,Re),l=da(t._key.path),u={next:d=>{e[o]&&e[o](function(t,e,n){const r=n.docs.get(e._key),i=new js(t);return new La(t,i,e._key,r,new Bs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Vt);c=ce(d.firestore,Re),l=d._query;const h=new js(c);u={next:f=>{e[o]&&e[o](new Va(c,h,d,f))},error:e[o+1],complete:e[o+2]},function(t){if(sf(t)&&0===t.explicitOrderBy.length)throw new b(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new bf(p),g=new hb(h,m,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return ub.apply(this,arguments)}(yield Pa(d),g)})),()=>{m.nc(),d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return lb.apply(this,arguments)}(yield Pa(d),g)}))}}(function(t){return t._firestoreClient||rF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function kee(t,e){return void 0===e&&(e={}),function(t){return iT(t,{includeMetadataChanges:!0}).pipe(Of(function(e){return e.docs}))}(t).pipe(Of(function(n){return n.map(function(r){return function(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Nf{constructor(e){return e}}const SF="firestore",aT=new le("angularfire2.firestore-instances");function Mee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nf(r)}}const Pee={provide:class{constructor(){return Y_(SF)}},deps:[[new Ge,aT]]},Oee={provide:Nf,useFactory:function(t,e){const n=function(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(SF,t,e);return n&&new Nf(n)},deps:[[new Ge,aT],Jo]};let Fee=(()=>{class t{constructor(){je("angularfire",G_.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gi({type:t}),t.\u0275inj=Lr({providers:[Oee,Pee]}),t})();function Lee(t,...e){return{ngModule:Fee,providers:[{provide:aT,useFactory:Mee(t),multi:!0,deps:[qe,we,rR,iR,[new Ge,u1],[new Ge,N1],...e]}]}}const Vee=Zd(kee,!0),Bee=Zd(nee,!0),jee=Zd(aee,!0);function Uee(t,e){if(1&t&&(Wl(0,"li"),vA(1),zl()),2&t){const n=e.$implicit;Gp(1),Ql(" ",n.customerName," ")}}let $ee=(()=>{class t{constructor(n){const r=Bee(n,"coffeeOrders");this.order$=Vee(r)}}return t.\u0275fac=function(n){return new(n||t)(ee(Nf))},t.\u0275cmp=qf({type:t,selectors:[["app-root"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(Wl(0,"ul"),function(t,e,n,r,i,s,o,a){const u=w(),c=se(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ho(e,t,4,o||null,gi(c,a));rg(e,n,l,gi(c,u)),gl(e,l);const d=l.tViews=jl(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];mr(d,!1);const h=u[K].createComment("");Ol(c,u,h,d),kt(h,u),Ul(u,u[l]=UC(h,u,h,d)),ul(d)&&tg(c,u,d),null!=o&&ng(u,d,a)}(1,Uee,2,1,"li",0),function(t,e){const n=se();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Hi("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Qi(r.type)),o=hi(ee);try{const a=El(!1),u=s();El(a),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,w(),i,u)}finally{hi(o)}}(2,"async"),zl()),2&n&&(Gp(1),bg("ngForOf",rx(2,1,r.order$)))},directives:[bk],pipes:[Ak],styles:[""]}),t})();const Gee={apiKey:"AIzaSyDZ9iukCzcXXUFgQvcOtdZ645jRtRbCJY4",authDomain:"fir-demo-b08d7.firebaseapp.com",databaseURL:"https://fir-demo-b08d7.firebaseio.com",projectId:"fir-demo-b08d7",storageBucket:"fir-demo-b08d7.appspot.com",messagingSenderId:"448168119738",appId:"1:448168119738:web:b49d753484c2da92876183",measurementId:"G-YY16C9JLE0"};let qee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gi({type:t,bootstrap:[$ee]}),t.\u0275inj=Lr({providers:[],imports:[[R8,n5(()=>r5(Gee)),Lee(()=>jee())]]}),t})();(function(){if(Mx)throw new Error("Cannot enable prod mode after platform setup.");Rx=!1})(),k8().bootstrapModule(qee).catch(t=>console.error(t))}},$s=>{$s($s.s=815)}]);